"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_thirdweb_dist_esm_wallets_in-app_web_lib_web-connector_js"],{

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/auth/core/create-login-message.js":
/*!**************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/auth/core/create-login-message.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createLoginMessage: function() { return /* binding */ createLoginMessage; }\n/* harmony export */ });\n/**\n * Create an EIP-4361 & CAIP-122 compliant message to sign based on the login payload\n * @param payload - The login payload containing the necessary information.\n * @returns The generated login message.\n * @internal\n */\nfunction createLoginMessage(payload) {\n    const typeField = \"Ethereum\";\n    const header = `${payload.domain} wants you to sign in with your ${typeField} account:`;\n    let prefix = [header, payload.address].join(\"\\n\");\n    prefix = [prefix, payload.statement].join(\"\\n\\n\");\n    if (payload.statement) {\n        prefix += \"\\n\";\n    }\n    const suffixArray = [];\n    if (payload.uri) {\n        const uriField = `URI: ${payload.uri}`;\n        suffixArray.push(uriField);\n    }\n    const versionField = `Version: ${payload.version}`;\n    suffixArray.push(versionField);\n    if (payload.chain_id) {\n        const chainField = `Chain ID: ${payload.chain_id}` || \"1\";\n        suffixArray.push(chainField);\n    }\n    const nonceField = `Nonce: ${payload.nonce}`;\n    suffixArray.push(nonceField);\n    const issuedAtField = `Issued At: ${payload.issued_at}`;\n    suffixArray.push(issuedAtField);\n    const expiryField = `Expiration Time: ${payload.expiration_time}`;\n    suffixArray.push(expiryField);\n    if (payload.invalid_before) {\n        const invalidBeforeField = `Not Before: ${payload.invalid_before}`;\n        suffixArray.push(invalidBeforeField);\n    }\n    if (payload.resources) {\n        suffixArray.push([\"Resources:\", ...payload.resources.map((x) => `- ${x}`)].join(\"\\n\"));\n    }\n    const suffix = suffixArray.join(\"\\n\");\n    return [prefix, suffix].join(\"\\n\");\n}\n//# sourceMappingURL=create-login-message.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS9hdXRoL2NvcmUvY3JlYXRlLWxvZ2luLW1lc3NhZ2UuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxzQkFBc0IsZ0JBQWdCLGlDQUFpQyxXQUFXO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLFlBQVk7QUFDN0M7QUFDQTtBQUNBLHFDQUFxQyxnQkFBZ0I7QUFDckQ7QUFDQTtBQUNBLHdDQUF3QyxpQkFBaUI7QUFDekQ7QUFDQTtBQUNBLGlDQUFpQyxjQUFjO0FBQy9DO0FBQ0Esd0NBQXdDLGtCQUFrQjtBQUMxRDtBQUNBLDRDQUE0Qyx3QkFBd0I7QUFDcEU7QUFDQTtBQUNBLGtEQUFrRCx1QkFBdUI7QUFDekU7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLEVBQUU7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vYXV0aC9jb3JlL2NyZWF0ZS1sb2dpbi1tZXNzYWdlLmpzPzExMWYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGUgYW4gRUlQLTQzNjEgJiBDQUlQLTEyMiBjb21wbGlhbnQgbWVzc2FnZSB0byBzaWduIGJhc2VkIG9uIHRoZSBsb2dpbiBwYXlsb2FkXG4gKiBAcGFyYW0gcGF5bG9hZCAtIFRoZSBsb2dpbiBwYXlsb2FkIGNvbnRhaW5pbmcgdGhlIG5lY2Vzc2FyeSBpbmZvcm1hdGlvbi5cbiAqIEByZXR1cm5zIFRoZSBnZW5lcmF0ZWQgbG9naW4gbWVzc2FnZS5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTG9naW5NZXNzYWdlKHBheWxvYWQpIHtcbiAgICBjb25zdCB0eXBlRmllbGQgPSBcIkV0aGVyZXVtXCI7XG4gICAgY29uc3QgaGVhZGVyID0gYCR7cGF5bG9hZC5kb21haW59IHdhbnRzIHlvdSB0byBzaWduIGluIHdpdGggeW91ciAke3R5cGVGaWVsZH0gYWNjb3VudDpgO1xuICAgIGxldCBwcmVmaXggPSBbaGVhZGVyLCBwYXlsb2FkLmFkZHJlc3NdLmpvaW4oXCJcXG5cIik7XG4gICAgcHJlZml4ID0gW3ByZWZpeCwgcGF5bG9hZC5zdGF0ZW1lbnRdLmpvaW4oXCJcXG5cXG5cIik7XG4gICAgaWYgKHBheWxvYWQuc3RhdGVtZW50KSB7XG4gICAgICAgIHByZWZpeCArPSBcIlxcblwiO1xuICAgIH1cbiAgICBjb25zdCBzdWZmaXhBcnJheSA9IFtdO1xuICAgIGlmIChwYXlsb2FkLnVyaSkge1xuICAgICAgICBjb25zdCB1cmlGaWVsZCA9IGBVUkk6ICR7cGF5bG9hZC51cml9YDtcbiAgICAgICAgc3VmZml4QXJyYXkucHVzaCh1cmlGaWVsZCk7XG4gICAgfVxuICAgIGNvbnN0IHZlcnNpb25GaWVsZCA9IGBWZXJzaW9uOiAke3BheWxvYWQudmVyc2lvbn1gO1xuICAgIHN1ZmZpeEFycmF5LnB1c2godmVyc2lvbkZpZWxkKTtcbiAgICBpZiAocGF5bG9hZC5jaGFpbl9pZCkge1xuICAgICAgICBjb25zdCBjaGFpbkZpZWxkID0gYENoYWluIElEOiAke3BheWxvYWQuY2hhaW5faWR9YCB8fCBcIjFcIjtcbiAgICAgICAgc3VmZml4QXJyYXkucHVzaChjaGFpbkZpZWxkKTtcbiAgICB9XG4gICAgY29uc3Qgbm9uY2VGaWVsZCA9IGBOb25jZTogJHtwYXlsb2FkLm5vbmNlfWA7XG4gICAgc3VmZml4QXJyYXkucHVzaChub25jZUZpZWxkKTtcbiAgICBjb25zdCBpc3N1ZWRBdEZpZWxkID0gYElzc3VlZCBBdDogJHtwYXlsb2FkLmlzc3VlZF9hdH1gO1xuICAgIHN1ZmZpeEFycmF5LnB1c2goaXNzdWVkQXRGaWVsZCk7XG4gICAgY29uc3QgZXhwaXJ5RmllbGQgPSBgRXhwaXJhdGlvbiBUaW1lOiAke3BheWxvYWQuZXhwaXJhdGlvbl90aW1lfWA7XG4gICAgc3VmZml4QXJyYXkucHVzaChleHBpcnlGaWVsZCk7XG4gICAgaWYgKHBheWxvYWQuaW52YWxpZF9iZWZvcmUpIHtcbiAgICAgICAgY29uc3QgaW52YWxpZEJlZm9yZUZpZWxkID0gYE5vdCBCZWZvcmU6ICR7cGF5bG9hZC5pbnZhbGlkX2JlZm9yZX1gO1xuICAgICAgICBzdWZmaXhBcnJheS5wdXNoKGludmFsaWRCZWZvcmVGaWVsZCk7XG4gICAgfVxuICAgIGlmIChwYXlsb2FkLnJlc291cmNlcykge1xuICAgICAgICBzdWZmaXhBcnJheS5wdXNoKFtcIlJlc291cmNlczpcIiwgLi4ucGF5bG9hZC5yZXNvdXJjZXMubWFwKCh4KSA9PiBgLSAke3h9YCldLmpvaW4oXCJcXG5cIikpO1xuICAgIH1cbiAgICBjb25zdCBzdWZmaXggPSBzdWZmaXhBcnJheS5qb2luKFwiXFxuXCIpO1xuICAgIHJldHVybiBbcHJlZml4LCBzdWZmaXhdLmpvaW4oXCJcXG5cIik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGUtbG9naW4tbWVzc2FnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/auth/core/create-login-message.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/auth/core/sign-login-payload.js":
/*!************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/auth/core/sign-login-payload.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   signLoginPayload: function() { return /* binding */ signLoginPayload; }\n/* harmony export */ });\n/* harmony import */ var _create_login_message_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./create-login-message.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/auth/core/create-login-message.js\");\n\n/**\n * Signs the login payload using the provided account.\n * @param options - The options for signing the login payload.\n * @returns An object containing the signature and the payload.\n * @example\n * ```ts\n * import { signLoginPayload } from 'thirdweb/auth';\n *\n * const { signature, payload } = await signLoginPayload({\n *  payload: loginPayload,\n *  account: account,\n * });\n * ```\n * @auth\n */\nasync function signLoginPayload(options) {\n    const { payload, account } = options;\n    const signature = await account.signMessage({\n        message: (0,_create_login_message_js__WEBPACK_IMPORTED_MODULE_0__.createLoginMessage)(payload),\n    });\n    return {\n        signature,\n        payload,\n    };\n}\n//# sourceMappingURL=sign-login-payload.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS9hdXRoL2NvcmUvc2lnbi1sb2dpbi1wYXlsb2FkLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQStEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksbUJBQW1CO0FBQy9CO0FBQ0EsV0FBVyxxQkFBcUI7QUFDaEM7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDTztBQUNQLFlBQVksbUJBQW1CO0FBQy9CO0FBQ0EsaUJBQWlCLDRFQUFrQjtBQUNuQyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS9hdXRoL2NvcmUvc2lnbi1sb2dpbi1wYXlsb2FkLmpzPzZkNWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlTG9naW5NZXNzYWdlIH0gZnJvbSBcIi4vY3JlYXRlLWxvZ2luLW1lc3NhZ2UuanNcIjtcbi8qKlxuICogU2lnbnMgdGhlIGxvZ2luIHBheWxvYWQgdXNpbmcgdGhlIHByb3ZpZGVkIGFjY291bnQuXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBzaWduaW5nIHRoZSBsb2dpbiBwYXlsb2FkLlxuICogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHNpZ25hdHVyZSBhbmQgdGhlIHBheWxvYWQuXG4gKiBAZXhhbXBsZVxuICogYGBgdHNcbiAqIGltcG9ydCB7IHNpZ25Mb2dpblBheWxvYWQgfSBmcm9tICd0aGlyZHdlYi9hdXRoJztcbiAqXG4gKiBjb25zdCB7IHNpZ25hdHVyZSwgcGF5bG9hZCB9ID0gYXdhaXQgc2lnbkxvZ2luUGF5bG9hZCh7XG4gKiAgcGF5bG9hZDogbG9naW5QYXlsb2FkLFxuICogIGFjY291bnQ6IGFjY291bnQsXG4gKiB9KTtcbiAqIGBgYFxuICogQGF1dGhcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25Mb2dpblBheWxvYWQob3B0aW9ucykge1xuICAgIGNvbnN0IHsgcGF5bG9hZCwgYWNjb3VudCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBzaWduYXR1cmUgPSBhd2FpdCBhY2NvdW50LnNpZ25NZXNzYWdlKHtcbiAgICAgICAgbWVzc2FnZTogY3JlYXRlTG9naW5NZXNzYWdlKHBheWxvYWQpLFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNpZ25hdHVyZSxcbiAgICAgICAgcGF5bG9hZCxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2lnbi1sb2dpbi1wYXlsb2FkLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/auth/core/sign-login-payload.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/rpc/actions/eth_sendRawTransaction.js":
/*!******************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/rpc/actions/eth_sendRawTransaction.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   eth_sendRawTransaction: function() { return /* binding */ eth_sendRawTransaction; }\n/* harmony export */ });\n/**\n * Sends a raw transaction to the Ethereum network.\n * @param request - The EIP1193 request function.\n * @param signedTransaction - The signed transaction in hex format.\n * @returns A promise that resolves to the transaction hash.\n * @rpc\n * @example\n * ```ts\n * import { getRpcClient, eth_sendRawTransaction } from \"thirdweb/rpc\";\n * const rpcRequest = getRpcClient({ client, chain });\n * const transactionHash = await eth_sendRawTransaction(rpcRequest, \"0x...\");\n * ```\n */\nasync function eth_sendRawTransaction(request, signedTransaction) {\n    return await request({\n        method: \"eth_sendRawTransaction\",\n        params: [signedTransaction],\n    });\n}\n//# sourceMappingURL=eth_sendRawTransaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS9ycGMvYWN0aW9ucy9ldGhfc2VuZFJhd1RyYW5zYWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1Q0FBdUM7QUFDbkQscUNBQXFDLGVBQWU7QUFDcEQ7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vcnBjL2FjdGlvbnMvZXRoX3NlbmRSYXdUcmFuc2FjdGlvbi5qcz9hMWJhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2VuZHMgYSByYXcgdHJhbnNhY3Rpb24gdG8gdGhlIEV0aGVyZXVtIG5ldHdvcmsuXG4gKiBAcGFyYW0gcmVxdWVzdCAtIFRoZSBFSVAxMTkzIHJlcXVlc3QgZnVuY3Rpb24uXG4gKiBAcGFyYW0gc2lnbmVkVHJhbnNhY3Rpb24gLSBUaGUgc2lnbmVkIHRyYW5zYWN0aW9uIGluIGhleCBmb3JtYXQuXG4gKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgdHJhbnNhY3Rpb24gaGFzaC5cbiAqIEBycGNcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZ2V0UnBjQ2xpZW50LCBldGhfc2VuZFJhd1RyYW5zYWN0aW9uIH0gZnJvbSBcInRoaXJkd2ViL3JwY1wiO1xuICogY29uc3QgcnBjUmVxdWVzdCA9IGdldFJwY0NsaWVudCh7IGNsaWVudCwgY2hhaW4gfSk7XG4gKiBjb25zdCB0cmFuc2FjdGlvbkhhc2ggPSBhd2FpdCBldGhfc2VuZFJhd1RyYW5zYWN0aW9uKHJwY1JlcXVlc3QsIFwiMHguLi5cIik7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV0aF9zZW5kUmF3VHJhbnNhY3Rpb24ocmVxdWVzdCwgc2lnbmVkVHJhbnNhY3Rpb24pIHtcbiAgICByZXR1cm4gYXdhaXQgcmVxdWVzdCh7XG4gICAgICAgIG1ldGhvZDogXCJldGhfc2VuZFJhd1RyYW5zYWN0aW9uXCIsXG4gICAgICAgIHBhcmFtczogW3NpZ25lZFRyYW5zYWN0aW9uXSxcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV0aF9zZW5kUmF3VHJhbnNhY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/rpc/actions/eth_sendRawTransaction.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/ecosystem/get-ecosystem-partner-permissions.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/ecosystem/get-ecosystem-partner-permissions.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getEcosystemPartnerPermissions: function() { return /* binding */ getEcosystemPartnerPermissions; }\n/* harmony export */ });\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n\nconst getEcosystemPartnerPermissions = async (ecosystemId, partnerId) => {\n    const res = await fetch(`${(0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_0__.getThirdwebBaseUrl)(\"inAppWallet\")}/api/2024-05-05/ecosystem-wallet/${ecosystemId}/partner/${partnerId}`, {\n        headers: {\n            \"x-ecosystem-id\": ecosystemId,\n            \"x-ecosystem-partner-id\": partnerId || \"\",\n        },\n    });\n    const data = (await res.json());\n    return data;\n};\n//# sourceMappingURL=get-ecosystem-partner-permissions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2Vjb3N5c3RlbS9nZXQtZWNvc3lzdGVtLXBhcnRuZXItcGVybWlzc2lvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEQ7QUFDckQ7QUFDUCwrQkFBK0IscUVBQWtCLGdCQUFnQixtQ0FBbUMsWUFBWSxXQUFXLFVBQVU7QUFDckk7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vd2FsbGV0cy9lY29zeXN0ZW0vZ2V0LWVjb3N5c3RlbS1wYXJ0bmVyLXBlcm1pc3Npb25zLmpzPzU3NjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0VGhpcmR3ZWJCYXNlVXJsIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2RvbWFpbnMuanNcIjtcbmV4cG9ydCBjb25zdCBnZXRFY29zeXN0ZW1QYXJ0bmVyUGVybWlzc2lvbnMgPSBhc3luYyAoZWNvc3lzdGVtSWQsIHBhcnRuZXJJZCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke2dldFRoaXJkd2ViQmFzZVVybChcImluQXBwV2FsbGV0XCIpfS9hcGkvMjAyNC0wNS0wNS9lY29zeXN0ZW0td2FsbGV0LyR7ZWNvc3lzdGVtSWR9L3BhcnRuZXIvJHtwYXJ0bmVySWR9YCwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIngtZWNvc3lzdGVtLWlkXCI6IGVjb3N5c3RlbUlkLFxuICAgICAgICAgICAgXCJ4LWVjb3N5c3RlbS1wYXJ0bmVyLWlkXCI6IHBhcnRuZXJJZCB8fCBcIlwiLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSAoYXdhaXQgcmVzLmpzb24oKSk7XG4gICAgcmV0dXJuIGRhdGE7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0LWVjb3N5c3RlbS1wYXJ0bmVyLXBlcm1pc3Npb25zLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/ecosystem/get-ecosystem-partner-permissions.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/getLoginPath.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/getLoginPath.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLoginCallbackUrl: function() { return /* binding */ getLoginCallbackUrl; },\n/* harmony export */   getLoginUrl: function() { return /* binding */ getLoginUrl; }\n/* harmony export */ });\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n/* harmony import */ var _wallets_types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../wallets/types.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/types.js\");\n\n\nconst getLoginOptionRoute = (option) => {\n    if (!_wallets_types_js__WEBPACK_IMPORTED_MODULE_0__.authOptions.includes(option) && option !== \"wallet\") {\n        throw new Error(`Unknown auth option ${option}`);\n    }\n    switch (option) {\n        case \"wallet\":\n            return \"siwe\";\n        default:\n            return option;\n    }\n};\nconst getLoginUrl = ({ authOption, client, ecosystem, mode = \"popup\", redirectUrl, }) => {\n    if (mode === \"popup\" && redirectUrl) {\n        throw new Error(\"Redirect URL is not supported for popup mode\");\n    }\n    if (mode === \"window\" && !redirectUrl) {\n        throw new Error(\"Redirect URL is required for window mode\");\n    }\n    const route = getLoginOptionRoute(authOption);\n    let baseUrl = `${(0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_1__.getThirdwebBaseUrl)(\"inAppWallet\")}/api/2024-05-05/login/${route}?clientId=${client.clientId}`;\n    if (ecosystem?.partnerId) {\n        baseUrl = `${baseUrl}&ecosystemId=${ecosystem.id}&ecosystemPartnerId=${ecosystem.partnerId}`;\n    }\n    else if (ecosystem) {\n        baseUrl = `${baseUrl}&ecosystemId=${ecosystem.id}`;\n    }\n    // Always append redirectUrl to the baseUrl if mode is not popup\n    if (mode !== \"popup\") {\n        const formattedRedirectUrl = new URL(redirectUrl || window.location.href);\n        formattedRedirectUrl.searchParams.set(\"walletId\", ecosystem?.id || \"inApp\");\n        formattedRedirectUrl.searchParams.set(\"authProvider\", authOption);\n        baseUrl = `${baseUrl}&redirectUrl=${encodeURIComponent(formattedRedirectUrl.toString())}`;\n    }\n    return baseUrl;\n};\nconst getLoginCallbackUrl = ({ authOption, client, ecosystem, }) => {\n    const route = getLoginOptionRoute(authOption);\n    let baseUrl = `${(0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_1__.getThirdwebBaseUrl)(\"inAppWallet\")}/api/2024-05-05/login/${route}/callback?clientId=${client.clientId}`;\n    if (ecosystem?.partnerId) {\n        baseUrl = `${baseUrl}&ecosystemId=${ecosystem.id}&ecosystemPartnerId=${ecosystem.partnerId}`;\n    }\n    else if (ecosystem) {\n        baseUrl = `${baseUrl}&ecosystemId=${ecosystem.id}`;\n    }\n    return baseUrl;\n};\n//# sourceMappingURL=getLoginPath.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2F1dGhlbnRpY2F0aW9uL2dldExvZ2luUGF0aC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWtFO0FBQ1A7QUFDM0Q7QUFDQSxTQUFTLDBEQUFXO0FBQ3BCLCtDQUErQyxPQUFPO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyx1QkFBdUIsNkRBQTZEO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFFQUFrQixnQkFBZ0Isd0JBQXdCLE1BQU0sWUFBWSxnQkFBZ0I7QUFDakg7QUFDQSxxQkFBcUIsUUFBUSxlQUFlLGFBQWEsc0JBQXNCLG9CQUFvQjtBQUNuRztBQUNBO0FBQ0EscUJBQXFCLFFBQVEsZUFBZSxhQUFhO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixRQUFRLGVBQWUsb0RBQW9EO0FBQ2hHO0FBQ0E7QUFDQTtBQUNPLCtCQUErQixnQ0FBZ0M7QUFDdEU7QUFDQSxxQkFBcUIscUVBQWtCLGdCQUFnQix3QkFBd0IsTUFBTSxxQkFBcUIsZ0JBQWdCO0FBQzFIO0FBQ0EscUJBQXFCLFFBQVEsZUFBZSxhQUFhLHNCQUFzQixvQkFBb0I7QUFDbkc7QUFDQTtBQUNBLHFCQUFxQixRQUFRLGVBQWUsYUFBYTtBQUN6RDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vd2FsbGV0cy9pbi1hcHAvY29yZS9hdXRoZW50aWNhdGlvbi9nZXRMb2dpblBhdGguanM/NjdkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRUaGlyZHdlYkJhc2VVcmwgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvZG9tYWlucy5qc1wiO1xuaW1wb3J0IHsgYXV0aE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vLi4vLi4vd2FsbGV0cy90eXBlcy5qc1wiO1xuY29uc3QgZ2V0TG9naW5PcHRpb25Sb3V0ZSA9IChvcHRpb24pID0+IHtcbiAgICBpZiAoIWF1dGhPcHRpb25zLmluY2x1ZGVzKG9wdGlvbikgJiYgb3B0aW9uICE9PSBcIndhbGxldFwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBhdXRoIG9wdGlvbiAke29wdGlvbn1gKTtcbiAgICB9XG4gICAgc3dpdGNoIChvcHRpb24pIHtcbiAgICAgICAgY2FzZSBcIndhbGxldFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwic2l3ZVwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbjtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGdldExvZ2luVXJsID0gKHsgYXV0aE9wdGlvbiwgY2xpZW50LCBlY29zeXN0ZW0sIG1vZGUgPSBcInBvcHVwXCIsIHJlZGlyZWN0VXJsLCB9KSA9PiB7XG4gICAgaWYgKG1vZGUgPT09IFwicG9wdXBcIiAmJiByZWRpcmVjdFVybCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWRpcmVjdCBVUkwgaXMgbm90IHN1cHBvcnRlZCBmb3IgcG9wdXAgbW9kZVwiKTtcbiAgICB9XG4gICAgaWYgKG1vZGUgPT09IFwid2luZG93XCIgJiYgIXJlZGlyZWN0VXJsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlZGlyZWN0IFVSTCBpcyByZXF1aXJlZCBmb3Igd2luZG93IG1vZGVcIik7XG4gICAgfVxuICAgIGNvbnN0IHJvdXRlID0gZ2V0TG9naW5PcHRpb25Sb3V0ZShhdXRoT3B0aW9uKTtcbiAgICBsZXQgYmFzZVVybCA9IGAke2dldFRoaXJkd2ViQmFzZVVybChcImluQXBwV2FsbGV0XCIpfS9hcGkvMjAyNC0wNS0wNS9sb2dpbi8ke3JvdXRlfT9jbGllbnRJZD0ke2NsaWVudC5jbGllbnRJZH1gO1xuICAgIGlmIChlY29zeXN0ZW0/LnBhcnRuZXJJZCkge1xuICAgICAgICBiYXNlVXJsID0gYCR7YmFzZVVybH0mZWNvc3lzdGVtSWQ9JHtlY29zeXN0ZW0uaWR9JmVjb3N5c3RlbVBhcnRuZXJJZD0ke2Vjb3N5c3RlbS5wYXJ0bmVySWR9YDtcbiAgICB9XG4gICAgZWxzZSBpZiAoZWNvc3lzdGVtKSB7XG4gICAgICAgIGJhc2VVcmwgPSBgJHtiYXNlVXJsfSZlY29zeXN0ZW1JZD0ke2Vjb3N5c3RlbS5pZH1gO1xuICAgIH1cbiAgICAvLyBBbHdheXMgYXBwZW5kIHJlZGlyZWN0VXJsIHRvIHRoZSBiYXNlVXJsIGlmIG1vZGUgaXMgbm90IHBvcHVwXG4gICAgaWYgKG1vZGUgIT09IFwicG9wdXBcIikge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWRSZWRpcmVjdFVybCA9IG5ldyBVUkwocmVkaXJlY3RVcmwgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgICBmb3JtYXR0ZWRSZWRpcmVjdFVybC5zZWFyY2hQYXJhbXMuc2V0KFwid2FsbGV0SWRcIiwgZWNvc3lzdGVtPy5pZCB8fCBcImluQXBwXCIpO1xuICAgICAgICBmb3JtYXR0ZWRSZWRpcmVjdFVybC5zZWFyY2hQYXJhbXMuc2V0KFwiYXV0aFByb3ZpZGVyXCIsIGF1dGhPcHRpb24pO1xuICAgICAgICBiYXNlVXJsID0gYCR7YmFzZVVybH0mcmVkaXJlY3RVcmw9JHtlbmNvZGVVUklDb21wb25lbnQoZm9ybWF0dGVkUmVkaXJlY3RVcmwudG9TdHJpbmcoKSl9YDtcbiAgICB9XG4gICAgcmV0dXJuIGJhc2VVcmw7XG59O1xuZXhwb3J0IGNvbnN0IGdldExvZ2luQ2FsbGJhY2tVcmwgPSAoeyBhdXRoT3B0aW9uLCBjbGllbnQsIGVjb3N5c3RlbSwgfSkgPT4ge1xuICAgIGNvbnN0IHJvdXRlID0gZ2V0TG9naW5PcHRpb25Sb3V0ZShhdXRoT3B0aW9uKTtcbiAgICBsZXQgYmFzZVVybCA9IGAke2dldFRoaXJkd2ViQmFzZVVybChcImluQXBwV2FsbGV0XCIpfS9hcGkvMjAyNC0wNS0wNS9sb2dpbi8ke3JvdXRlfS9jYWxsYmFjaz9jbGllbnRJZD0ke2NsaWVudC5jbGllbnRJZH1gO1xuICAgIGlmIChlY29zeXN0ZW0/LnBhcnRuZXJJZCkge1xuICAgICAgICBiYXNlVXJsID0gYCR7YmFzZVVybH0mZWNvc3lzdGVtSWQ9JHtlY29zeXN0ZW0uaWR9JmVjb3N5c3RlbVBhcnRuZXJJZD0ke2Vjb3N5c3RlbS5wYXJ0bmVySWR9YDtcbiAgICB9XG4gICAgZWxzZSBpZiAoZWNvc3lzdGVtKSB7XG4gICAgICAgIGJhc2VVcmwgPSBgJHtiYXNlVXJsfSZlY29zeXN0ZW1JZD0ke2Vjb3N5c3RlbS5pZH1gO1xuICAgIH1cbiAgICByZXR1cm4gYmFzZVVybDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRMb2dpblBhdGguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/getLoginPath.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/passkeys.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/passkeys.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loginWithPasskey: function() { return /* binding */ loginWithPasskey; },\n/* harmony export */   registerPasskey: function() { return /* binding */ registerPasskey; }\n/* harmony export */ });\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n/* harmony import */ var _utils_fetch_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../utils/fetch.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/fetch.js\");\n/* harmony import */ var _client_scoped_storage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./client-scoped-storage.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/client-scoped-storage.js\");\n\n\n\nfunction getVerificationPath() {\n    return `${(0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_0__.getThirdwebBaseUrl)(\"inAppWallet\")}/api/2024-05-05/login/passkey/callback`;\n}\nfunction getChallengePath(type, username) {\n    return `${(0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_0__.getThirdwebBaseUrl)(\"inAppWallet\")}/api/2024-05-05/login/passkey?type=${type}${username ? `&username=${username}` : \"\"}`;\n}\nasync function registerPasskey(options) {\n    if (!options.passkeyClient.isAvailable()) {\n        throw new Error(\"Passkeys are not available on this device\");\n    }\n    const storage = new _client_scoped_storage_js__WEBPACK_IMPORTED_MODULE_1__.ClientScopedStorage({\n        storage: options.storage,\n        clientId: options.client.clientId,\n        ecosystemId: options.ecosystem?.id,\n    });\n    const fetchWithId = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_2__.getClientFetch)(options.client, options.ecosystem);\n    const generatedName = options.username ?? generateUsername(options.ecosystem);\n    // 1. request challenge from  server\n    const res = await fetchWithId(getChallengePath(\"sign-up\", generatedName));\n    const challengeData = await res.json();\n    if (!challengeData.challenge) {\n        throw new Error(\"No challenge received\");\n    }\n    const challenge = challengeData.challenge;\n    // 2. initiate registration\n    const registration = await options.passkeyClient.register({\n        name: generatedName,\n        challenge,\n        rp: options.rp,\n    });\n    const customHeaders = {};\n    if (options.ecosystem?.partnerId) {\n        customHeaders[\"x-ecosystem-partner-id\"] = options.ecosystem.partnerId;\n    }\n    if (options.ecosystem?.id) {\n        customHeaders[\"x-ecosystem-id\"] = options.ecosystem.id;\n    }\n    // 3. send the registration object to the server\n    const verifRes = await fetchWithId(getVerificationPath(), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            ...customHeaders,\n        },\n        body: JSON.stringify({\n            type: \"sign-up\",\n            authenticatorData: registration.authenticatorData,\n            credentialId: registration.credentialId,\n            serverVerificationId: challengeData.serverVerificationId,\n            clientData: registration.clientData,\n            username: generatedName,\n            credential: {\n                publicKey: registration.credential.publicKey,\n                algorithm: registration.credential.algorithm,\n            },\n            origin: registration.origin,\n            rpId: options.rp.id,\n        }),\n    });\n    const verifData = await verifRes.json();\n    if (!verifData || !verifData.storedToken) {\n        throw new Error(`Error verifying passkey: ${verifData.message ?? \"unknown error\"}`);\n    }\n    // 4. store the credentialId in local storage\n    await storage.savePasskeyCredentialId(registration.credentialId);\n    // 5. returns back the IAW authentication token\n    return verifData;\n}\nasync function loginWithPasskey(options) {\n    if (!options.passkeyClient.isAvailable()) {\n        throw new Error(\"Passkeys are not available on this device\");\n    }\n    const storage = new _client_scoped_storage_js__WEBPACK_IMPORTED_MODULE_1__.ClientScopedStorage({\n        storage: options.storage,\n        clientId: options.client.clientId,\n        ecosystemId: options.ecosystem?.id,\n    });\n    const fetchWithId = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_2__.getClientFetch)(options.client, options.ecosystem);\n    // 1. request challenge from  server/iframe\n    const res = await fetchWithId(getChallengePath(\"sign-in\"));\n    const challengeData = await res.json();\n    if (!challengeData.challenge) {\n        throw new Error(\"No challenge received\");\n    }\n    const challenge = challengeData.challenge;\n    // 1.2. find the user's credentialId in local storage\n    const credentialId = (await storage.getPasskeyCredentialId()) ?? undefined;\n    // 2. initiate login\n    const authentication = await options.passkeyClient.authenticate({\n        credentialId,\n        challenge,\n        rp: options.rp,\n    });\n    const customHeaders = {};\n    if (options.ecosystem?.partnerId) {\n        customHeaders[\"x-ecosystem-partner-id\"] = options.ecosystem.partnerId;\n    }\n    if (options.ecosystem?.id) {\n        customHeaders[\"x-ecosystem-id\"] = options.ecosystem.id;\n    }\n    const verifRes = await fetchWithId(getVerificationPath(), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            ...customHeaders,\n        },\n        body: JSON.stringify({\n            type: \"sign-in\",\n            authenticatorData: authentication.authenticatorData,\n            credentialId: authentication.credentialId,\n            serverVerificationId: challengeData.serverVerificationId,\n            clientData: authentication.clientData,\n            signature: authentication.signature,\n            origin: authentication.origin,\n            rpId: options.rp.id,\n        }),\n    });\n    const verifData = await verifRes.json();\n    if (!verifData || !verifData.storedToken) {\n        throw new Error(`Error verifying passkey: ${verifData.message ?? \"unknown error\"}`);\n    }\n    // 5. store the credentialId in local storage\n    await storage.savePasskeyCredentialId(authentication.credentialId);\n    // 6. return the auth'd user type\n    return verifData;\n}\nfunction generateUsername(ecosystem) {\n    return `${ecosystem?.id ?? \"wallet\"}-${new Date().toISOString()}`;\n}\n//# sourceMappingURL=passkeys.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2F1dGhlbnRpY2F0aW9uL3Bhc3NrZXlzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWtFO0FBQ047QUFDSztBQUNqRTtBQUNBLGNBQWMscUVBQWtCLGdCQUFnQjtBQUNoRDtBQUNBO0FBQ0EsY0FBYyxxRUFBa0IsZ0JBQWdCLHFDQUFxQyxLQUFLLEVBQUUsd0JBQXdCLFNBQVMsT0FBTztBQUNwSTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDBFQUFtQjtBQUMzQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsd0JBQXdCLCtEQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQSxvREFBb0QscUNBQXFDO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDBFQUFtQjtBQUMzQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsd0JBQXdCLCtEQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBLG9EQUFvRCxxQ0FBcUM7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDBCQUEwQixHQUFHLHlCQUF5QjtBQUNwRTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2F1dGhlbnRpY2F0aW9uL3Bhc3NrZXlzLmpzPzJiMjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0VGhpcmR3ZWJCYXNlVXJsIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2RvbWFpbnMuanNcIjtcbmltcG9ydCB7IGdldENsaWVudEZldGNoIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2ZldGNoLmpzXCI7XG5pbXBvcnQgeyBDbGllbnRTY29wZWRTdG9yYWdlIH0gZnJvbSBcIi4vY2xpZW50LXNjb3BlZC1zdG9yYWdlLmpzXCI7XG5mdW5jdGlvbiBnZXRWZXJpZmljYXRpb25QYXRoKCkge1xuICAgIHJldHVybiBgJHtnZXRUaGlyZHdlYkJhc2VVcmwoXCJpbkFwcFdhbGxldFwiKX0vYXBpLzIwMjQtMDUtMDUvbG9naW4vcGFzc2tleS9jYWxsYmFja2A7XG59XG5mdW5jdGlvbiBnZXRDaGFsbGVuZ2VQYXRoKHR5cGUsIHVzZXJuYW1lKSB7XG4gICAgcmV0dXJuIGAke2dldFRoaXJkd2ViQmFzZVVybChcImluQXBwV2FsbGV0XCIpfS9hcGkvMjAyNC0wNS0wNS9sb2dpbi9wYXNza2V5P3R5cGU9JHt0eXBlfSR7dXNlcm5hbWUgPyBgJnVzZXJuYW1lPSR7dXNlcm5hbWV9YCA6IFwiXCJ9YDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWdpc3RlclBhc3NrZXkob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy5wYXNza2V5Q2xpZW50LmlzQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGFzc2tleXMgYXJlIG5vdCBhdmFpbGFibGUgb24gdGhpcyBkZXZpY2VcIik7XG4gICAgfVxuICAgIGNvbnN0IHN0b3JhZ2UgPSBuZXcgQ2xpZW50U2NvcGVkU3RvcmFnZSh7XG4gICAgICAgIHN0b3JhZ2U6IG9wdGlvbnMuc3RvcmFnZSxcbiAgICAgICAgY2xpZW50SWQ6IG9wdGlvbnMuY2xpZW50LmNsaWVudElkLFxuICAgICAgICBlY29zeXN0ZW1JZDogb3B0aW9ucy5lY29zeXN0ZW0/LmlkLFxuICAgIH0pO1xuICAgIGNvbnN0IGZldGNoV2l0aElkID0gZ2V0Q2xpZW50RmV0Y2gob3B0aW9ucy5jbGllbnQsIG9wdGlvbnMuZWNvc3lzdGVtKTtcbiAgICBjb25zdCBnZW5lcmF0ZWROYW1lID0gb3B0aW9ucy51c2VybmFtZSA/PyBnZW5lcmF0ZVVzZXJuYW1lKG9wdGlvbnMuZWNvc3lzdGVtKTtcbiAgICAvLyAxLiByZXF1ZXN0IGNoYWxsZW5nZSBmcm9tICBzZXJ2ZXJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaFdpdGhJZChnZXRDaGFsbGVuZ2VQYXRoKFwic2lnbi11cFwiLCBnZW5lcmF0ZWROYW1lKSk7XG4gICAgY29uc3QgY2hhbGxlbmdlRGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgaWYgKCFjaGFsbGVuZ2VEYXRhLmNoYWxsZW5nZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjaGFsbGVuZ2UgcmVjZWl2ZWRcIik7XG4gICAgfVxuICAgIGNvbnN0IGNoYWxsZW5nZSA9IGNoYWxsZW5nZURhdGEuY2hhbGxlbmdlO1xuICAgIC8vIDIuIGluaXRpYXRlIHJlZ2lzdHJhdGlvblxuICAgIGNvbnN0IHJlZ2lzdHJhdGlvbiA9IGF3YWl0IG9wdGlvbnMucGFzc2tleUNsaWVudC5yZWdpc3Rlcih7XG4gICAgICAgIG5hbWU6IGdlbmVyYXRlZE5hbWUsXG4gICAgICAgIGNoYWxsZW5nZSxcbiAgICAgICAgcnA6IG9wdGlvbnMucnAsXG4gICAgfSk7XG4gICAgY29uc3QgY3VzdG9tSGVhZGVycyA9IHt9O1xuICAgIGlmIChvcHRpb25zLmVjb3N5c3RlbT8ucGFydG5lcklkKSB7XG4gICAgICAgIGN1c3RvbUhlYWRlcnNbXCJ4LWVjb3N5c3RlbS1wYXJ0bmVyLWlkXCJdID0gb3B0aW9ucy5lY29zeXN0ZW0ucGFydG5lcklkO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5lY29zeXN0ZW0/LmlkKSB7XG4gICAgICAgIGN1c3RvbUhlYWRlcnNbXCJ4LWVjb3N5c3RlbS1pZFwiXSA9IG9wdGlvbnMuZWNvc3lzdGVtLmlkO1xuICAgIH1cbiAgICAvLyAzLiBzZW5kIHRoZSByZWdpc3RyYXRpb24gb2JqZWN0IHRvIHRoZSBzZXJ2ZXJcbiAgICBjb25zdCB2ZXJpZlJlcyA9IGF3YWl0IGZldGNoV2l0aElkKGdldFZlcmlmaWNhdGlvblBhdGgoKSwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgIC4uLmN1c3RvbUhlYWRlcnMsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHR5cGU6IFwic2lnbi11cFwiLFxuICAgICAgICAgICAgYXV0aGVudGljYXRvckRhdGE6IHJlZ2lzdHJhdGlvbi5hdXRoZW50aWNhdG9yRGF0YSxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxJZDogcmVnaXN0cmF0aW9uLmNyZWRlbnRpYWxJZCxcbiAgICAgICAgICAgIHNlcnZlclZlcmlmaWNhdGlvbklkOiBjaGFsbGVuZ2VEYXRhLnNlcnZlclZlcmlmaWNhdGlvbklkLFxuICAgICAgICAgICAgY2xpZW50RGF0YTogcmVnaXN0cmF0aW9uLmNsaWVudERhdGEsXG4gICAgICAgICAgICB1c2VybmFtZTogZ2VuZXJhdGVkTmFtZSxcbiAgICAgICAgICAgIGNyZWRlbnRpYWw6IHtcbiAgICAgICAgICAgICAgICBwdWJsaWNLZXk6IHJlZ2lzdHJhdGlvbi5jcmVkZW50aWFsLnB1YmxpY0tleSxcbiAgICAgICAgICAgICAgICBhbGdvcml0aG06IHJlZ2lzdHJhdGlvbi5jcmVkZW50aWFsLmFsZ29yaXRobSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcmlnaW46IHJlZ2lzdHJhdGlvbi5vcmlnaW4sXG4gICAgICAgICAgICBycElkOiBvcHRpb25zLnJwLmlkLFxuICAgICAgICB9KSxcbiAgICB9KTtcbiAgICBjb25zdCB2ZXJpZkRhdGEgPSBhd2FpdCB2ZXJpZlJlcy5qc29uKCk7XG4gICAgaWYgKCF2ZXJpZkRhdGEgfHwgIXZlcmlmRGF0YS5zdG9yZWRUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIHZlcmlmeWluZyBwYXNza2V5OiAke3ZlcmlmRGF0YS5tZXNzYWdlID8/IFwidW5rbm93biBlcnJvclwifWApO1xuICAgIH1cbiAgICAvLyA0LiBzdG9yZSB0aGUgY3JlZGVudGlhbElkIGluIGxvY2FsIHN0b3JhZ2VcbiAgICBhd2FpdCBzdG9yYWdlLnNhdmVQYXNza2V5Q3JlZGVudGlhbElkKHJlZ2lzdHJhdGlvbi5jcmVkZW50aWFsSWQpO1xuICAgIC8vIDUuIHJldHVybnMgYmFjayB0aGUgSUFXIGF1dGhlbnRpY2F0aW9uIHRva2VuXG4gICAgcmV0dXJuIHZlcmlmRGF0YTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dpbldpdGhQYXNza2V5KG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMucGFzc2tleUNsaWVudC5pc0F2YWlsYWJsZSgpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhc3NrZXlzIGFyZSBub3QgYXZhaWxhYmxlIG9uIHRoaXMgZGV2aWNlXCIpO1xuICAgIH1cbiAgICBjb25zdCBzdG9yYWdlID0gbmV3IENsaWVudFNjb3BlZFN0b3JhZ2Uoe1xuICAgICAgICBzdG9yYWdlOiBvcHRpb25zLnN0b3JhZ2UsXG4gICAgICAgIGNsaWVudElkOiBvcHRpb25zLmNsaWVudC5jbGllbnRJZCxcbiAgICAgICAgZWNvc3lzdGVtSWQ6IG9wdGlvbnMuZWNvc3lzdGVtPy5pZCxcbiAgICB9KTtcbiAgICBjb25zdCBmZXRjaFdpdGhJZCA9IGdldENsaWVudEZldGNoKG9wdGlvbnMuY2xpZW50LCBvcHRpb25zLmVjb3N5c3RlbSk7XG4gICAgLy8gMS4gcmVxdWVzdCBjaGFsbGVuZ2UgZnJvbSAgc2VydmVyL2lmcmFtZVxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoV2l0aElkKGdldENoYWxsZW5nZVBhdGgoXCJzaWduLWluXCIpKTtcbiAgICBjb25zdCBjaGFsbGVuZ2VEYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICBpZiAoIWNoYWxsZW5nZURhdGEuY2hhbGxlbmdlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGNoYWxsZW5nZSByZWNlaXZlZFwiKTtcbiAgICB9XG4gICAgY29uc3QgY2hhbGxlbmdlID0gY2hhbGxlbmdlRGF0YS5jaGFsbGVuZ2U7XG4gICAgLy8gMS4yLiBmaW5kIHRoZSB1c2VyJ3MgY3JlZGVudGlhbElkIGluIGxvY2FsIHN0b3JhZ2VcbiAgICBjb25zdCBjcmVkZW50aWFsSWQgPSAoYXdhaXQgc3RvcmFnZS5nZXRQYXNza2V5Q3JlZGVudGlhbElkKCkpID8/IHVuZGVmaW5lZDtcbiAgICAvLyAyLiBpbml0aWF0ZSBsb2dpblxuICAgIGNvbnN0IGF1dGhlbnRpY2F0aW9uID0gYXdhaXQgb3B0aW9ucy5wYXNza2V5Q2xpZW50LmF1dGhlbnRpY2F0ZSh7XG4gICAgICAgIGNyZWRlbnRpYWxJZCxcbiAgICAgICAgY2hhbGxlbmdlLFxuICAgICAgICBycDogb3B0aW9ucy5ycCxcbiAgICB9KTtcbiAgICBjb25zdCBjdXN0b21IZWFkZXJzID0ge307XG4gICAgaWYgKG9wdGlvbnMuZWNvc3lzdGVtPy5wYXJ0bmVySWQpIHtcbiAgICAgICAgY3VzdG9tSGVhZGVyc1tcIngtZWNvc3lzdGVtLXBhcnRuZXItaWRcIl0gPSBvcHRpb25zLmVjb3N5c3RlbS5wYXJ0bmVySWQ7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmVjb3N5c3RlbT8uaWQpIHtcbiAgICAgICAgY3VzdG9tSGVhZGVyc1tcIngtZWNvc3lzdGVtLWlkXCJdID0gb3B0aW9ucy5lY29zeXN0ZW0uaWQ7XG4gICAgfVxuICAgIGNvbnN0IHZlcmlmUmVzID0gYXdhaXQgZmV0Y2hXaXRoSWQoZ2V0VmVyaWZpY2F0aW9uUGF0aCgpLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgLi4uY3VzdG9tSGVhZGVycyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdHlwZTogXCJzaWduLWluXCIsXG4gICAgICAgICAgICBhdXRoZW50aWNhdG9yRGF0YTogYXV0aGVudGljYXRpb24uYXV0aGVudGljYXRvckRhdGEsXG4gICAgICAgICAgICBjcmVkZW50aWFsSWQ6IGF1dGhlbnRpY2F0aW9uLmNyZWRlbnRpYWxJZCxcbiAgICAgICAgICAgIHNlcnZlclZlcmlmaWNhdGlvbklkOiBjaGFsbGVuZ2VEYXRhLnNlcnZlclZlcmlmaWNhdGlvbklkLFxuICAgICAgICAgICAgY2xpZW50RGF0YTogYXV0aGVudGljYXRpb24uY2xpZW50RGF0YSxcbiAgICAgICAgICAgIHNpZ25hdHVyZTogYXV0aGVudGljYXRpb24uc2lnbmF0dXJlLFxuICAgICAgICAgICAgb3JpZ2luOiBhdXRoZW50aWNhdGlvbi5vcmlnaW4sXG4gICAgICAgICAgICBycElkOiBvcHRpb25zLnJwLmlkLFxuICAgICAgICB9KSxcbiAgICB9KTtcbiAgICBjb25zdCB2ZXJpZkRhdGEgPSBhd2FpdCB2ZXJpZlJlcy5qc29uKCk7XG4gICAgaWYgKCF2ZXJpZkRhdGEgfHwgIXZlcmlmRGF0YS5zdG9yZWRUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIHZlcmlmeWluZyBwYXNza2V5OiAke3ZlcmlmRGF0YS5tZXNzYWdlID8/IFwidW5rbm93biBlcnJvclwifWApO1xuICAgIH1cbiAgICAvLyA1LiBzdG9yZSB0aGUgY3JlZGVudGlhbElkIGluIGxvY2FsIHN0b3JhZ2VcbiAgICBhd2FpdCBzdG9yYWdlLnNhdmVQYXNza2V5Q3JlZGVudGlhbElkKGF1dGhlbnRpY2F0aW9uLmNyZWRlbnRpYWxJZCk7XG4gICAgLy8gNi4gcmV0dXJuIHRoZSBhdXRoJ2QgdXNlciB0eXBlXG4gICAgcmV0dXJuIHZlcmlmRGF0YTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlVXNlcm5hbWUoZWNvc3lzdGVtKSB7XG4gICAgcmV0dXJuIGAke2Vjb3N5c3RlbT8uaWQgPz8gXCJ3YWxsZXRcIn0tJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9YDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhc3NrZXlzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/passkeys.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/siwe.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/siwe.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   siweAuthenticate: function() { return /* binding */ siweAuthenticate; }\n/* harmony export */ });\n/* harmony import */ var _auth_core_sign_login_payload_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../auth/core/sign-login-payload.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/auth/core/sign-login-payload.js\");\n/* harmony import */ var _utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/fetch.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/fetch.js\");\n/* harmony import */ var _getLoginPath_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getLoginPath.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/getLoginPath.js\");\n\n\n\n/**\n * @internal\n */\nasync function siweAuthenticate(args) {\n    const { wallet, chain } = args;\n    const account = await wallet.connect({ client: args.client });\n    const clientFetch = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__.getClientFetch)(args.client, args.ecosystem);\n    const payload = await (async () => {\n        const path = (0,_getLoginPath_js__WEBPACK_IMPORTED_MODULE_1__.getLoginUrl)({\n            authOption: \"wallet\",\n            client: args.client,\n            ecosystem: args.ecosystem,\n        });\n        const res = await clientFetch(`${path}&address=${account.address}&chainId=${chain.id}`);\n        if (!res.ok)\n            throw new Error(\"Failed to generate SIWE login payload\");\n        return (await res.json());\n    })();\n    const { signature } = await (0,_auth_core_sign_login_payload_js__WEBPACK_IMPORTED_MODULE_2__.signLoginPayload)({ payload, account });\n    const authResult = await (async () => {\n        const path = (0,_getLoginPath_js__WEBPACK_IMPORTED_MODULE_1__.getLoginCallbackUrl)({\n            authOption: \"wallet\",\n            client: args.client,\n            ecosystem: args.ecosystem,\n        });\n        const res = await clientFetch(`${path}&signature=${signature}&payload=${encodeURIComponent(payload)}`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n                signature,\n                payload,\n            }),\n        });\n        if (!res.ok)\n            throw new Error(\"Failed to verify SIWE signature\");\n        return (await res.json());\n    })();\n    return authResult;\n}\n//# sourceMappingURL=siwe.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2F1dGhlbnRpY2F0aW9uL3Npd2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUErRTtBQUNuQjtBQUNTO0FBQ3JFO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsWUFBWSxnQkFBZ0I7QUFDNUIsMkNBQTJDLHFCQUFxQjtBQUNoRSx3QkFBd0IsK0RBQWM7QUFDdEM7QUFDQSxxQkFBcUIsNkRBQVc7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHlDQUF5QyxLQUFLLFdBQVcsZ0JBQWdCLFdBQVcsU0FBUztBQUM3RjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSxZQUFZLFFBQVEsa0ZBQWdCLEdBQUcsa0JBQWtCO0FBQ3JFO0FBQ0EscUJBQXFCLHFFQUFtQjtBQUN4QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QseUNBQXlDLEtBQUssYUFBYSxVQUFVLFdBQVcsNEJBQTRCO0FBQzVHO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3RoaXJkd2ViL2Rpc3QvZXNtL3dhbGxldHMvaW4tYXBwL2NvcmUvYXV0aGVudGljYXRpb24vc2l3ZS5qcz9kMzNlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNpZ25Mb2dpblBheWxvYWQgfSBmcm9tIFwiLi4vLi4vLi4vLi4vYXV0aC9jb3JlL3NpZ24tbG9naW4tcGF5bG9hZC5qc1wiO1xuaW1wb3J0IHsgZ2V0Q2xpZW50RmV0Y2ggfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvZmV0Y2guanNcIjtcbmltcG9ydCB7IGdldExvZ2luQ2FsbGJhY2tVcmwsIGdldExvZ2luVXJsIH0gZnJvbSBcIi4vZ2V0TG9naW5QYXRoLmpzXCI7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2l3ZUF1dGhlbnRpY2F0ZShhcmdzKSB7XG4gICAgY29uc3QgeyB3YWxsZXQsIGNoYWluIH0gPSBhcmdzO1xuICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCB3YWxsZXQuY29ubmVjdCh7IGNsaWVudDogYXJncy5jbGllbnQgfSk7XG4gICAgY29uc3QgY2xpZW50RmV0Y2ggPSBnZXRDbGllbnRGZXRjaChhcmdzLmNsaWVudCwgYXJncy5lY29zeXN0ZW0pO1xuICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCAoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gZ2V0TG9naW5Vcmwoe1xuICAgICAgICAgICAgYXV0aE9wdGlvbjogXCJ3YWxsZXRcIixcbiAgICAgICAgICAgIGNsaWVudDogYXJncy5jbGllbnQsXG4gICAgICAgICAgICBlY29zeXN0ZW06IGFyZ3MuZWNvc3lzdGVtLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgY2xpZW50RmV0Y2goYCR7cGF0aH0mYWRkcmVzcz0ke2FjY291bnQuYWRkcmVzc30mY2hhaW5JZD0ke2NoYWluLmlkfWApO1xuICAgICAgICBpZiAoIXJlcy5vaylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBnZW5lcmF0ZSBTSVdFIGxvZ2luIHBheWxvYWRcIik7XG4gICAgICAgIHJldHVybiAoYXdhaXQgcmVzLmpzb24oKSk7XG4gICAgfSkoKTtcbiAgICBjb25zdCB7IHNpZ25hdHVyZSB9ID0gYXdhaXQgc2lnbkxvZ2luUGF5bG9hZCh7IHBheWxvYWQsIGFjY291bnQgfSk7XG4gICAgY29uc3QgYXV0aFJlc3VsdCA9IGF3YWl0IChhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBnZXRMb2dpbkNhbGxiYWNrVXJsKHtcbiAgICAgICAgICAgIGF1dGhPcHRpb246IFwid2FsbGV0XCIsXG4gICAgICAgICAgICBjbGllbnQ6IGFyZ3MuY2xpZW50LFxuICAgICAgICAgICAgZWNvc3lzdGVtOiBhcmdzLmVjb3N5c3RlbSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNsaWVudEZldGNoKGAke3BhdGh9JnNpZ25hdHVyZT0ke3NpZ25hdHVyZX0mcGF5bG9hZD0ke2VuY29kZVVSSUNvbXBvbmVudChwYXlsb2FkKX1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBzaWduYXR1cmUsXG4gICAgICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXMub2spXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gdmVyaWZ5IFNJV0Ugc2lnbmF0dXJlXCIpO1xuICAgICAgICByZXR1cm4gKGF3YWl0IHJlcy5qc29uKCkpO1xuICAgIH0pKCk7XG4gICAgcmV0dXJuIGF1dGhSZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaXdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/siwe.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/abstract-login.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/abstract-login.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractLogin: function() { return /* binding */ AbstractLogin; }\n/* harmony export */ });\n/**\n * @internal\n */\nclass AbstractLogin {\n    /**\n     * Used to manage the user's auth states. This should not be instantiated directly.\n     * @internal\n     */\n    constructor({ baseUrl, querier, preLogin, postLogin, client, ecosystem, }) {\n        Object.defineProperty(this, \"LoginQuerier\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"preLogin\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"postLogin\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"baseUrl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"ecosystem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.baseUrl = baseUrl;\n        this.LoginQuerier = querier;\n        this.preLogin = preLogin;\n        this.postLogin = postLogin;\n        this.client = client;\n        this.ecosystem = ecosystem;\n    }\n    /**\n     * @internal\n     */\n    async sendEmailLoginOtp({ email, }) {\n        const result = await this.LoginQuerier.call({\n            procedureName: \"sendThirdwebEmailLoginOtp\",\n            params: { email },\n        });\n        return result;\n    }\n    /**\n     *\n     * @internal\n     */\n    async sendSmsLoginOtp({ phoneNumber, }) {\n        const result = await this.LoginQuerier.call({\n            procedureName: \"sendThirdwebSmsLoginOtp\",\n            params: { phoneNumber },\n        });\n        return result;\n    }\n}\n//# sourceMappingURL=abstract-login.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvYWJzdHJhY3QtbG9naW4uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsMkRBQTJEO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFFBQVE7QUFDdEM7QUFDQTtBQUNBLHNCQUFzQixPQUFPO0FBQzdCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsY0FBYztBQUMxQztBQUNBO0FBQ0Esc0JBQXNCLGFBQWE7QUFDbkMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvYWJzdHJhY3QtbG9naW4uanM/ZTZhZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgQWJzdHJhY3RMb2dpbiB7XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBtYW5hZ2UgdGhlIHVzZXIncyBhdXRoIHN0YXRlcy4gVGhpcyBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIHF1ZXJpZXIsIHByZUxvZ2luLCBwb3N0TG9naW4sIGNsaWVudCwgZWNvc3lzdGVtLCB9KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIkxvZ2luUXVlcmllclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwcmVMb2dpblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwb3N0TG9naW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJhc2VVcmxcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZWNvc3lzdGVtXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgICAgIHRoaXMuTG9naW5RdWVyaWVyID0gcXVlcmllcjtcbiAgICAgICAgdGhpcy5wcmVMb2dpbiA9IHByZUxvZ2luO1xuICAgICAgICB0aGlzLnBvc3RMb2dpbiA9IHBvc3RMb2dpbjtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgICAgIHRoaXMuZWNvc3lzdGVtID0gZWNvc3lzdGVtO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBzZW5kRW1haWxMb2dpbk90cCh7IGVtYWlsLCB9KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuTG9naW5RdWVyaWVyLmNhbGwoe1xuICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJzZW5kVGhpcmR3ZWJFbWFpbExvZ2luT3RwXCIsXG4gICAgICAgICAgICBwYXJhbXM6IHsgZW1haWwgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgc2VuZFNtc0xvZ2luT3RwKHsgcGhvbmVOdW1iZXIsIH0pIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5Mb2dpblF1ZXJpZXIuY2FsbCh7XG4gICAgICAgICAgICBwcm9jZWR1cmVOYW1lOiBcInNlbmRUaGlyZHdlYlNtc0xvZ2luT3RwXCIsXG4gICAgICAgICAgICBwYXJhbXM6IHsgcGhvbmVOdW1iZXIgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWJzdHJhY3QtbG9naW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/abstract-login.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/base-login.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/base-login.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseLogin: function() { return /* binding */ BaseLogin; }\n/* harmony export */ });\n/* harmony import */ var _abstract_login_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract-login.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/abstract-login.js\");\n\n/**\n *\n */\nclass BaseLogin extends _abstract_login_js__WEBPACK_IMPORTED_MODULE_0__.AbstractLogin {\n    async authenticateWithModal() {\n        return this.LoginQuerier.call({\n            procedureName: \"loginWithThirdwebModal\",\n            params: undefined,\n            showIframe: true,\n        });\n    }\n    /**\n     * @internal\n     */\n    async loginWithModal() {\n        await this.preLogin();\n        const result = await this.authenticateWithModal();\n        return this.postLogin(result);\n    }\n    async authenticateWithIframe({ email, }) {\n        return this.LoginQuerier.call({\n            procedureName: \"loginWithThirdwebModal\",\n            params: { email },\n            showIframe: true,\n        });\n    }\n    /**\n     * @internal\n     */\n    async loginWithIframe({ email, }) {\n        await this.preLogin();\n        const result = await this.authenticateWithIframe({ email });\n        return this.postLogin(result);\n    }\n    async authenticateWithCustomJwt({ encryptionKey, jwt, }) {\n        if (!encryptionKey || encryptionKey.length === 0) {\n            throw new Error(\"Encryption key is required for custom jwt auth\");\n        }\n        return this.LoginQuerier.call({\n            procedureName: \"loginWithCustomJwt\",\n            params: { encryptionKey, jwt },\n        });\n    }\n    /**\n     * @internal\n     */\n    async loginWithCustomJwt({ encryptionKey, jwt, }) {\n        if (!encryptionKey || encryptionKey.length === 0) {\n            throw new Error(\"Encryption key is required for custom jwt auth\");\n        }\n        await this.preLogin();\n        const result = await this.authenticateWithCustomJwt({ encryptionKey, jwt });\n        return this.postLogin(result);\n    }\n    async authenticateWithCustomAuthEndpoint({ encryptionKey, payload, }) {\n        return this.LoginQuerier.call({\n            procedureName: \"loginWithCustomAuthEndpoint\",\n            params: { encryptionKey, payload },\n        });\n    }\n    /**\n     * @internal\n     */\n    async loginWithCustomAuthEndpoint({ encryptionKey, payload, }) {\n        if (!encryptionKey || encryptionKey.length === 0) {\n            throw new Error(\"Encryption key is required for custom auth\");\n        }\n        await this.preLogin();\n        const result = await this.authenticateWithCustomAuthEndpoint({\n            encryptionKey,\n            payload,\n        });\n        return this.postLogin(result);\n    }\n    async authenticateWithEmailOtp({ email, otp, recoveryCode, }) {\n        return this.LoginQuerier.call({\n            procedureName: \"verifyThirdwebEmailLoginOtp\",\n            params: { email, otp, recoveryCode },\n        });\n    }\n    /**\n     * @internal\n     */\n    async loginWithEmailOtp({ email, otp, recoveryCode, }) {\n        const result = await this.authenticateWithEmailOtp({\n            email,\n            otp,\n            recoveryCode,\n        });\n        return this.postLogin(result);\n    }\n    async authenticateWithSmsOtp({ phoneNumber, otp, recoveryCode, }) {\n        return this.LoginQuerier.call({\n            procedureName: \"verifyThirdwebSmsLoginOtp\",\n            params: { phoneNumber, otp, recoveryCode },\n        });\n    }\n    /**\n     * @internal\n     */\n    async loginWithSmsOtp({ phoneNumber, otp, recoveryCode, }) {\n        const result = await this.authenticateWithSmsOtp({\n            phoneNumber,\n            otp,\n            recoveryCode,\n        });\n        return this.postLogin(result);\n    }\n}\n//# sourceMappingURL=base-login.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvYmFzZS1sb2dpbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDTyx3QkFBd0IsNkRBQWE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsUUFBUTtBQUMzQztBQUNBO0FBQ0Esc0JBQXNCLE9BQU87QUFDN0I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsUUFBUTtBQUNwQztBQUNBLDJEQUEyRCxPQUFPO0FBQ2xFO0FBQ0E7QUFDQSxzQ0FBc0MscUJBQXFCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0JBQW9CO0FBQzFDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxQkFBcUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsb0JBQW9CO0FBQ2xGO0FBQ0E7QUFDQSwrQ0FBK0MseUJBQXlCO0FBQ3hFO0FBQ0E7QUFDQSxzQkFBc0Isd0JBQXdCO0FBQzlDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyx5QkFBeUI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHFDQUFxQywyQkFBMkI7QUFDaEU7QUFDQTtBQUNBLHNCQUFzQiwwQkFBMEI7QUFDaEQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDJCQUEyQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsbUNBQW1DLGlDQUFpQztBQUNwRTtBQUNBO0FBQ0Esc0JBQXNCLGdDQUFnQztBQUN0RCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsaUNBQWlDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvYmFzZS1sb2dpbi5qcz83ZmZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFic3RyYWN0TG9naW4gfSBmcm9tIFwiLi9hYnN0cmFjdC1sb2dpbi5qc1wiO1xuLyoqXG4gKlxuICovXG5leHBvcnQgY2xhc3MgQmFzZUxvZ2luIGV4dGVuZHMgQWJzdHJhY3RMb2dpbiB7XG4gICAgYXN5bmMgYXV0aGVudGljYXRlV2l0aE1vZGFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5Mb2dpblF1ZXJpZXIuY2FsbCh7XG4gICAgICAgICAgICBwcm9jZWR1cmVOYW1lOiBcImxvZ2luV2l0aFRoaXJkd2ViTW9kYWxcIixcbiAgICAgICAgICAgIHBhcmFtczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2hvd0lmcmFtZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jIGxvZ2luV2l0aE1vZGFsKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnByZUxvZ2luKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuYXV0aGVudGljYXRlV2l0aE1vZGFsKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc3RMb2dpbihyZXN1bHQpO1xuICAgIH1cbiAgICBhc3luYyBhdXRoZW50aWNhdGVXaXRoSWZyYW1lKHsgZW1haWwsIH0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTG9naW5RdWVyaWVyLmNhbGwoe1xuICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJsb2dpbldpdGhUaGlyZHdlYk1vZGFsXCIsXG4gICAgICAgICAgICBwYXJhbXM6IHsgZW1haWwgfSxcbiAgICAgICAgICAgIHNob3dJZnJhbWU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBsb2dpbldpdGhJZnJhbWUoeyBlbWFpbCwgfSkge1xuICAgICAgICBhd2FpdCB0aGlzLnByZUxvZ2luKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuYXV0aGVudGljYXRlV2l0aElmcmFtZSh7IGVtYWlsIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5wb3N0TG9naW4ocmVzdWx0KTtcbiAgICB9XG4gICAgYXN5bmMgYXV0aGVudGljYXRlV2l0aEN1c3RvbUp3dCh7IGVuY3J5cHRpb25LZXksIGp3dCwgfSkge1xuICAgICAgICBpZiAoIWVuY3J5cHRpb25LZXkgfHwgZW5jcnlwdGlvbktleS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVuY3J5cHRpb24ga2V5IGlzIHJlcXVpcmVkIGZvciBjdXN0b20gand0IGF1dGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuTG9naW5RdWVyaWVyLmNhbGwoe1xuICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJsb2dpbldpdGhDdXN0b21Kd3RcIixcbiAgICAgICAgICAgIHBhcmFtczogeyBlbmNyeXB0aW9uS2V5LCBqd3QgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jIGxvZ2luV2l0aEN1c3RvbUp3dCh7IGVuY3J5cHRpb25LZXksIGp3dCwgfSkge1xuICAgICAgICBpZiAoIWVuY3J5cHRpb25LZXkgfHwgZW5jcnlwdGlvbktleS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVuY3J5cHRpb24ga2V5IGlzIHJlcXVpcmVkIGZvciBjdXN0b20gand0IGF1dGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5wcmVMb2dpbigpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmF1dGhlbnRpY2F0ZVdpdGhDdXN0b21Kd3QoeyBlbmNyeXB0aW9uS2V5LCBqd3QgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc3RMb2dpbihyZXN1bHQpO1xuICAgIH1cbiAgICBhc3luYyBhdXRoZW50aWNhdGVXaXRoQ3VzdG9tQXV0aEVuZHBvaW50KHsgZW5jcnlwdGlvbktleSwgcGF5bG9hZCwgfSkge1xuICAgICAgICByZXR1cm4gdGhpcy5Mb2dpblF1ZXJpZXIuY2FsbCh7XG4gICAgICAgICAgICBwcm9jZWR1cmVOYW1lOiBcImxvZ2luV2l0aEN1c3RvbUF1dGhFbmRwb2ludFwiLFxuICAgICAgICAgICAgcGFyYW1zOiB7IGVuY3J5cHRpb25LZXksIHBheWxvYWQgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jIGxvZ2luV2l0aEN1c3RvbUF1dGhFbmRwb2ludCh7IGVuY3J5cHRpb25LZXksIHBheWxvYWQsIH0pIHtcbiAgICAgICAgaWYgKCFlbmNyeXB0aW9uS2V5IHx8IGVuY3J5cHRpb25LZXkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbmNyeXB0aW9uIGtleSBpcyByZXF1aXJlZCBmb3IgY3VzdG9tIGF1dGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5wcmVMb2dpbigpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmF1dGhlbnRpY2F0ZVdpdGhDdXN0b21BdXRoRW5kcG9pbnQoe1xuICAgICAgICAgICAgZW5jcnlwdGlvbktleSxcbiAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5wb3N0TG9naW4ocmVzdWx0KTtcbiAgICB9XG4gICAgYXN5bmMgYXV0aGVudGljYXRlV2l0aEVtYWlsT3RwKHsgZW1haWwsIG90cCwgcmVjb3ZlcnlDb2RlLCB9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLkxvZ2luUXVlcmllci5jYWxsKHtcbiAgICAgICAgICAgIHByb2NlZHVyZU5hbWU6IFwidmVyaWZ5VGhpcmR3ZWJFbWFpbExvZ2luT3RwXCIsXG4gICAgICAgICAgICBwYXJhbXM6IHsgZW1haWwsIG90cCwgcmVjb3ZlcnlDb2RlIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBsb2dpbldpdGhFbWFpbE90cCh7IGVtYWlsLCBvdHAsIHJlY292ZXJ5Q29kZSwgfSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmF1dGhlbnRpY2F0ZVdpdGhFbWFpbE90cCh7XG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgIG90cCxcbiAgICAgICAgICAgIHJlY292ZXJ5Q29kZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc3RMb2dpbihyZXN1bHQpO1xuICAgIH1cbiAgICBhc3luYyBhdXRoZW50aWNhdGVXaXRoU21zT3RwKHsgcGhvbmVOdW1iZXIsIG90cCwgcmVjb3ZlcnlDb2RlLCB9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLkxvZ2luUXVlcmllci5jYWxsKHtcbiAgICAgICAgICAgIHByb2NlZHVyZU5hbWU6IFwidmVyaWZ5VGhpcmR3ZWJTbXNMb2dpbk90cFwiLFxuICAgICAgICAgICAgcGFyYW1zOiB7IHBob25lTnVtYmVyLCBvdHAsIHJlY292ZXJ5Q29kZSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgbG9naW5XaXRoU21zT3RwKHsgcGhvbmVOdW1iZXIsIG90cCwgcmVjb3ZlcnlDb2RlLCB9KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuYXV0aGVudGljYXRlV2l0aFNtc090cCh7XG4gICAgICAgICAgICBwaG9uZU51bWJlcixcbiAgICAgICAgICAgIG90cCxcbiAgICAgICAgICAgIHJlY292ZXJ5Q29kZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc3RMb2dpbihyZXN1bHQpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UtbG9naW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/base-login.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/constants.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/constants.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_POP_UP_SIZE: function() { return /* binding */ DEFAULT_POP_UP_SIZE; }\n/* harmony export */ });\nconst DEFAULT_POP_UP_SIZE = \"width=350, height=500\";\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvY29uc3RhbnRzLmpzPzBmZjAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IERFRkFVTFRfUE9QX1VQX1NJWkUgPSBcIndpZHRoPTM1MCwgaGVpZ2h0PTUwMFwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/constants.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/iframe-auth.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/iframe-auth.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Auth: function() { return /* binding */ Auth; }\n/* harmony export */ });\n/* harmony import */ var _utils_storage_webStorage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../utils/storage/webStorage.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/storage/webStorage.js\");\n/* harmony import */ var _core_authentication_client_scoped_storage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/authentication/client-scoped-storage.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/client-scoped-storage.js\");\n/* harmony import */ var _base_login_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base-login.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/base-login.js\");\n\n\n\n/**\n *\n */\nclass Auth {\n    /**\n     * Used to manage the user's auth states. This should not be instantiated directly.\n     * @internal\n     */\n    constructor({ client, querier, onAuthSuccess, ecosystem, baseUrl, }) {\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"AuthQuerier\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"localStorage\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"onAuthSuccess\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"BaseLogin\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.client = client;\n        this.AuthQuerier = querier;\n        this.localStorage = new _core_authentication_client_scoped_storage_js__WEBPACK_IMPORTED_MODULE_0__.ClientScopedStorage({\n            storage: _utils_storage_webStorage_js__WEBPACK_IMPORTED_MODULE_1__.webLocalStorage,\n            clientId: client.clientId,\n            ecosystemId: ecosystem?.id,\n        });\n        this.onAuthSuccess = onAuthSuccess;\n        this.BaseLogin = new _base_login_js__WEBPACK_IMPORTED_MODULE_2__.BaseLogin({\n            postLogin: async (result) => {\n                return this.postLogin(result);\n            },\n            preLogin: async () => {\n                await this.preLogin();\n            },\n            ecosystem,\n            querier: querier,\n            client,\n            baseUrl,\n        });\n    }\n    async preLogin() {\n        await this.logout();\n    }\n    async postLogin({ storedToken, walletDetails, }) {\n        if (storedToken.shouldStoreCookieString) {\n            await this.localStorage.saveAuthCookie(storedToken.cookieString);\n        }\n        const initializedUser = await this.onAuthSuccess({\n            storedToken,\n            walletDetails,\n        });\n        return initializedUser;\n    }\n    async loginWithAuthToken(authToken, recoveryCode) {\n        await this.preLogin();\n        const result = await this.AuthQuerier.call({\n            procedureName: \"loginWithStoredTokenDetails\",\n            params: {\n                storedToken: authToken.storedToken,\n                recoveryCode,\n            },\n        });\n        return this.postLogin(result);\n    }\n    /**\n     * Used to log the user into their thirdweb wallet on your platform via a myriad of auth providers\n     * @example\n     * ```typescript\n     * const thirdwebInAppWallet = new InAppWalletSdk({clientId: \"YOUR_CLIENT_ID\", chain: \"Polygon\"})\n     * try {\n     *   const user = await thirdwebInAppWallet.auth.loginWithModal();\n     *   // user is now logged in\n     * } catch (e) {\n     *   // User closed modal or something else went wrong during the authentication process\n     *   console.error(e)\n     * }\n     * ```\n     * @returns `{{user: InitializedUser}}` An InitializedUser object.\n     */\n    async loginWithModal() {\n        return this.BaseLogin.loginWithModal();\n    }\n    async authenticateWithModal() {\n        return this.BaseLogin.authenticateWithModal();\n    }\n    /**\n     * Used to log the user into their thirdweb wallet using email OTP\n     * @example\n     * ```typescript\n     *  // Basic Flow\n     *  const thirdwebInAppWallet = new InAppWalletSdk({clientId: \"\", chain: \"Polygon\"});\n     *  try {\n     *    // prompts user to enter the code they received\n     *    const user = await thirdwebInAppWallet.auth.loginWithThirdwebEmailOtp({ email : \"you@example.com\" });\n     *    // user is now logged in\n     *  } catch (e) {\n     *    // User closed the OTP modal or something else went wrong during the authentication process\n     *    console.error(e)\n     *  }\n     * ```\n     * @param args - args.email: We will send the email an OTP that needs to be entered in order for them to be logged in.\n     * @returns `{{user: InitializedUser}}` An InitializedUser object. See {@link InAppWalletSdk.getUser} for more\n     */\n    async loginWithIframe(args) {\n        return this.BaseLogin.loginWithIframe(args);\n    }\n    async authenticateWithIframe(args) {\n        return this.BaseLogin.authenticateWithIframe(args);\n    }\n    /**\n     * @internal\n     */\n    async loginWithCustomJwt(args) {\n        return this.BaseLogin.loginWithCustomJwt(args);\n    }\n    async authenticateWithCustomJwt(args) {\n        return this.BaseLogin.authenticateWithCustomJwt(args);\n    }\n    /**\n     * @internal\n     */\n    async loginWithCustomAuthEndpoint(args) {\n        return this.BaseLogin.loginWithCustomAuthEndpoint(args);\n    }\n    async authenticateWithCustomAuthEndpoint(args) {\n        return this.BaseLogin.authenticateWithCustomAuthEndpoint(args);\n    }\n    /**\n     * A headless way to send the users at the passed email an OTP code.\n     * You need to then call {@link Auth.loginWithEmailOtp} in order to complete the login process\n     * @example\n     * @param param0.email\n     * ```typescript\n     *  const thirdwebInAppWallet = new InAppWalletSdk({clientId: \"\", chain: \"Polygon\"});\n     *  // sends user an OTP code\n     * try {\n     *    await thirdwebInAppWallet.auth.sendEmailLoginOtp({ email : \"you@example.com\" });\n     * } catch(e) {\n     *    // Error Sending user's email an OTP code\n     *    console.error(e);\n     * }\n     *\n     * // Then when your user is ready to verify their OTP\n     * try {\n     *    const user = await thirdwebInAppWallet.auth.verifyEmailLoginOtp({ email: \"you@example.com\", otp: \"6-DIGIT_CODE_HERE\" });\n     * } catch(e) {\n     *    // Error verifying the OTP code\n     *    console.error(e)\n     * }\n     * ```\n     * @param param0 - param0.email We will send the email an OTP that needs to be entered in order for them to be logged in.\n     * @returns `{{ isNewUser: boolean }}` IsNewUser indicates if the user is a new user to your platform\n     * @internal\n     */\n    async sendEmailLoginOtp({ email, }) {\n        return this.BaseLogin.sendEmailLoginOtp({\n            email,\n        });\n    }\n    /**\n     * @internal\n     */\n    async sendSmsLoginOtp({ phoneNumber, }) {\n        return this.BaseLogin.sendSmsLoginOtp({\n            phoneNumber,\n        });\n    }\n    /**\n     * Used to verify the otp that the user receives from thirdweb\n     *\n     * See {@link Auth.sendEmailLoginOtp} for how the headless call flow looks like. Simply swap out the calls to `loginWithThirdwebEmailOtp` with `verifyThirdwebEmailLoginOtp`\n     * @param args - props.email We will send the email an OTP that needs to be entered in order for them to be logged in.\n     * props.otp The code that the user received in their email\n     * @returns `{{user: InitializedUser}}` An InitializedUser object containing the user's status, wallet, authDetails, and more\n     * @internal\n     */\n    async loginWithEmailOtp(args) {\n        await this.preLogin();\n        return this.BaseLogin.loginWithEmailOtp(args);\n    }\n    async authenticateWithEmailOtp(args) {\n        return this.BaseLogin.authenticateWithEmailOtp(args);\n    }\n    /**\n     * @internal\n     */\n    async loginWithSmsOtp(args) {\n        await this.preLogin();\n        return this.BaseLogin.loginWithSmsOtp(args);\n    }\n    async authenticateWithSmsOtp(args) {\n        return this.BaseLogin.authenticateWithSmsOtp(args);\n    }\n    /**\n     * Logs any existing user out of their wallet.\n     * @returns `{{success: boolean}}` true if a user is successfully logged out. false if there's no user currently logged in.\n     * @internal\n     */\n    async logout() {\n        const { success } = await this.AuthQuerier.call({\n            procedureName: \"logout\",\n            params: undefined,\n        });\n        const isRemoveAuthCookie = await this.localStorage.removeAuthCookie();\n        const isRemoveUserId = await this.localStorage.removeWalletUserId();\n        return {\n            success: success || isRemoveAuthCookie || isRemoveUserId,\n        };\n    }\n}\n//# sourceMappingURL=iframe-auth.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvaWZyYW1lLWF1dGguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE2RTtBQUNlO0FBQ2hEO0FBQzVDO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscURBQXFEO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0NBQWdDLDhGQUFtQjtBQUNuRCxxQkFBcUIseUVBQWU7QUFDcEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLDZCQUE2QixxREFBUztBQUN0QztBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNkJBQTZCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCw2Q0FBNkM7QUFDcEc7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHVCQUF1QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsK0JBQStCO0FBQ3ZGO0FBQ0E7QUFDQSxrRkFBa0YsMkJBQTJCO0FBQzdHO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsdUJBQXVCLGtDQUFrQyw4QkFBOEI7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDhCQUE4QjtBQUM1RDtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsK0JBQStCO0FBQ3ZGO0FBQ0E7QUFDQSw2REFBNkQsMkJBQTJCO0FBQ3hGLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsb0RBQW9EO0FBQ2hJLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFCQUFxQjtBQUN6QztBQUNBO0FBQ0EsOEJBQThCLFFBQVE7QUFDdEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixjQUFjO0FBQzFDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDhCQUE4QjtBQUMxQztBQUNBO0FBQ0EsbUJBQW1CLHVCQUF1QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsa0JBQWtCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixVQUFVO0FBQzFCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vd2FsbGV0cy9pbi1hcHAvd2ViL2xpYi9hdXRoL2lmcmFtZS1hdXRoLmpzPzU3MDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgd2ViTG9jYWxTdG9yYWdlIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL3V0aWxzL3N0b3JhZ2Uvd2ViU3RvcmFnZS5qc1wiO1xuaW1wb3J0IHsgQ2xpZW50U2NvcGVkU3RvcmFnZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2F1dGhlbnRpY2F0aW9uL2NsaWVudC1zY29wZWQtc3RvcmFnZS5qc1wiO1xuaW1wb3J0IHsgQmFzZUxvZ2luIH0gZnJvbSBcIi4vYmFzZS1sb2dpbi5qc1wiO1xuLyoqXG4gKlxuICovXG5leHBvcnQgY2xhc3MgQXV0aCB7XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBtYW5hZ2UgdGhlIHVzZXIncyBhdXRoIHN0YXRlcy4gVGhpcyBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih7IGNsaWVudCwgcXVlcmllciwgb25BdXRoU3VjY2VzcywgZWNvc3lzdGVtLCBiYXNlVXJsLCB9KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJBdXRoUXVlcmllclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsb2NhbFN0b3JhZ2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib25BdXRoU3VjY2Vzc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJCYXNlTG9naW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgICAgIHRoaXMuQXV0aFF1ZXJpZXIgPSBxdWVyaWVyO1xuICAgICAgICB0aGlzLmxvY2FsU3RvcmFnZSA9IG5ldyBDbGllbnRTY29wZWRTdG9yYWdlKHtcbiAgICAgICAgICAgIHN0b3JhZ2U6IHdlYkxvY2FsU3RvcmFnZSxcbiAgICAgICAgICAgIGNsaWVudElkOiBjbGllbnQuY2xpZW50SWQsXG4gICAgICAgICAgICBlY29zeXN0ZW1JZDogZWNvc3lzdGVtPy5pZCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub25BdXRoU3VjY2VzcyA9IG9uQXV0aFN1Y2Nlc3M7XG4gICAgICAgIHRoaXMuQmFzZUxvZ2luID0gbmV3IEJhc2VMb2dpbih7XG4gICAgICAgICAgICBwb3N0TG9naW46IGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0TG9naW4ocmVzdWx0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcmVMb2dpbjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucHJlTG9naW4oKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlY29zeXN0ZW0sXG4gICAgICAgICAgICBxdWVyaWVyOiBxdWVyaWVyLFxuICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgYmFzZVVybCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHByZUxvZ2luKCkge1xuICAgICAgICBhd2FpdCB0aGlzLmxvZ291dCgpO1xuICAgIH1cbiAgICBhc3luYyBwb3N0TG9naW4oeyBzdG9yZWRUb2tlbiwgd2FsbGV0RGV0YWlscywgfSkge1xuICAgICAgICBpZiAoc3RvcmVkVG9rZW4uc2hvdWxkU3RvcmVDb29raWVTdHJpbmcpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9jYWxTdG9yYWdlLnNhdmVBdXRoQ29va2llKHN0b3JlZFRva2VuLmNvb2tpZVN0cmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5pdGlhbGl6ZWRVc2VyID0gYXdhaXQgdGhpcy5vbkF1dGhTdWNjZXNzKHtcbiAgICAgICAgICAgIHN0b3JlZFRva2VuLFxuICAgICAgICAgICAgd2FsbGV0RGV0YWlscyxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpbml0aWFsaXplZFVzZXI7XG4gICAgfVxuICAgIGFzeW5jIGxvZ2luV2l0aEF1dGhUb2tlbihhdXRoVG9rZW4sIHJlY292ZXJ5Q29kZSkge1xuICAgICAgICBhd2FpdCB0aGlzLnByZUxvZ2luKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuQXV0aFF1ZXJpZXIuY2FsbCh7XG4gICAgICAgICAgICBwcm9jZWR1cmVOYW1lOiBcImxvZ2luV2l0aFN0b3JlZFRva2VuRGV0YWlsc1wiLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgc3RvcmVkVG9rZW46IGF1dGhUb2tlbi5zdG9yZWRUb2tlbixcbiAgICAgICAgICAgICAgICByZWNvdmVyeUNvZGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zdExvZ2luKHJlc3VsdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gbG9nIHRoZSB1c2VyIGludG8gdGhlaXIgdGhpcmR3ZWIgd2FsbGV0IG9uIHlvdXIgcGxhdGZvcm0gdmlhIGEgbXlyaWFkIG9mIGF1dGggcHJvdmlkZXJzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgdGhpcmR3ZWJJbkFwcFdhbGxldCA9IG5ldyBJbkFwcFdhbGxldFNkayh7Y2xpZW50SWQ6IFwiWU9VUl9DTElFTlRfSURcIiwgY2hhaW46IFwiUG9seWdvblwifSlcbiAgICAgKiB0cnkge1xuICAgICAqICAgY29uc3QgdXNlciA9IGF3YWl0IHRoaXJkd2ViSW5BcHBXYWxsZXQuYXV0aC5sb2dpbldpdGhNb2RhbCgpO1xuICAgICAqICAgLy8gdXNlciBpcyBub3cgbG9nZ2VkIGluXG4gICAgICogfSBjYXRjaCAoZSkge1xuICAgICAqICAgLy8gVXNlciBjbG9zZWQgbW9kYWwgb3Igc29tZXRoaW5nIGVsc2Ugd2VudCB3cm9uZyBkdXJpbmcgdGhlIGF1dGhlbnRpY2F0aW9uIHByb2Nlc3NcbiAgICAgKiAgIGNvbnNvbGUuZXJyb3IoZSlcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICogQHJldHVybnMgYHt7dXNlcjogSW5pdGlhbGl6ZWRVc2VyfX1gIEFuIEluaXRpYWxpemVkVXNlciBvYmplY3QuXG4gICAgICovXG4gICAgYXN5bmMgbG9naW5XaXRoTW9kYWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJhc2VMb2dpbi5sb2dpbldpdGhNb2RhbCgpO1xuICAgIH1cbiAgICBhc3luYyBhdXRoZW50aWNhdGVXaXRoTW9kYWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJhc2VMb2dpbi5hdXRoZW50aWNhdGVXaXRoTW9kYWwoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBsb2cgdGhlIHVzZXIgaW50byB0aGVpciB0aGlyZHdlYiB3YWxsZXQgdXNpbmcgZW1haWwgT1RQXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogIC8vIEJhc2ljIEZsb3dcbiAgICAgKiAgY29uc3QgdGhpcmR3ZWJJbkFwcFdhbGxldCA9IG5ldyBJbkFwcFdhbGxldFNkayh7Y2xpZW50SWQ6IFwiXCIsIGNoYWluOiBcIlBvbHlnb25cIn0pO1xuICAgICAqICB0cnkge1xuICAgICAqICAgIC8vIHByb21wdHMgdXNlciB0byBlbnRlciB0aGUgY29kZSB0aGV5IHJlY2VpdmVkXG4gICAgICogICAgY29uc3QgdXNlciA9IGF3YWl0IHRoaXJkd2ViSW5BcHBXYWxsZXQuYXV0aC5sb2dpbldpdGhUaGlyZHdlYkVtYWlsT3RwKHsgZW1haWwgOiBcInlvdUBleGFtcGxlLmNvbVwiIH0pO1xuICAgICAqICAgIC8vIHVzZXIgaXMgbm93IGxvZ2dlZCBpblxuICAgICAqICB9IGNhdGNoIChlKSB7XG4gICAgICogICAgLy8gVXNlciBjbG9zZWQgdGhlIE9UUCBtb2RhbCBvciBzb21ldGhpbmcgZWxzZSB3ZW50IHdyb25nIGR1cmluZyB0aGUgYXV0aGVudGljYXRpb24gcHJvY2Vzc1xuICAgICAqICAgIGNvbnNvbGUuZXJyb3IoZSlcbiAgICAgKiAgfVxuICAgICAqIGBgYFxuICAgICAqIEBwYXJhbSBhcmdzIC0gYXJncy5lbWFpbDogV2Ugd2lsbCBzZW5kIHRoZSBlbWFpbCBhbiBPVFAgdGhhdCBuZWVkcyB0byBiZSBlbnRlcmVkIGluIG9yZGVyIGZvciB0aGVtIHRvIGJlIGxvZ2dlZCBpbi5cbiAgICAgKiBAcmV0dXJucyBge3t1c2VyOiBJbml0aWFsaXplZFVzZXJ9fWAgQW4gSW5pdGlhbGl6ZWRVc2VyIG9iamVjdC4gU2VlIHtAbGluayBJbkFwcFdhbGxldFNkay5nZXRVc2VyfSBmb3IgbW9yZVxuICAgICAqL1xuICAgIGFzeW5jIGxvZ2luV2l0aElmcmFtZShhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJhc2VMb2dpbi5sb2dpbldpdGhJZnJhbWUoYXJncyk7XG4gICAgfVxuICAgIGFzeW5jIGF1dGhlbnRpY2F0ZVdpdGhJZnJhbWUoYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5CYXNlTG9naW4uYXV0aGVudGljYXRlV2l0aElmcmFtZShhcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgbG9naW5XaXRoQ3VzdG9tSnd0KGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQmFzZUxvZ2luLmxvZ2luV2l0aEN1c3RvbUp3dChhcmdzKTtcbiAgICB9XG4gICAgYXN5bmMgYXV0aGVudGljYXRlV2l0aEN1c3RvbUp3dChhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJhc2VMb2dpbi5hdXRoZW50aWNhdGVXaXRoQ3VzdG9tSnd0KGFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBsb2dpbldpdGhDdXN0b21BdXRoRW5kcG9pbnQoYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5CYXNlTG9naW4ubG9naW5XaXRoQ3VzdG9tQXV0aEVuZHBvaW50KGFyZ3MpO1xuICAgIH1cbiAgICBhc3luYyBhdXRoZW50aWNhdGVXaXRoQ3VzdG9tQXV0aEVuZHBvaW50KGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQmFzZUxvZ2luLmF1dGhlbnRpY2F0ZVdpdGhDdXN0b21BdXRoRW5kcG9pbnQoYXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgaGVhZGxlc3Mgd2F5IHRvIHNlbmQgdGhlIHVzZXJzIGF0IHRoZSBwYXNzZWQgZW1haWwgYW4gT1RQIGNvZGUuXG4gICAgICogWW91IG5lZWQgdG8gdGhlbiBjYWxsIHtAbGluayBBdXRoLmxvZ2luV2l0aEVtYWlsT3RwfSBpbiBvcmRlciB0byBjb21wbGV0ZSB0aGUgbG9naW4gcHJvY2Vzc1xuICAgICAqIEBleGFtcGxlXG4gICAgICogQHBhcmFtIHBhcmFtMC5lbWFpbFxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiAgY29uc3QgdGhpcmR3ZWJJbkFwcFdhbGxldCA9IG5ldyBJbkFwcFdhbGxldFNkayh7Y2xpZW50SWQ6IFwiXCIsIGNoYWluOiBcIlBvbHlnb25cIn0pO1xuICAgICAqICAvLyBzZW5kcyB1c2VyIGFuIE9UUCBjb2RlXG4gICAgICogdHJ5IHtcbiAgICAgKiAgICBhd2FpdCB0aGlyZHdlYkluQXBwV2FsbGV0LmF1dGguc2VuZEVtYWlsTG9naW5PdHAoeyBlbWFpbCA6IFwieW91QGV4YW1wbGUuY29tXCIgfSk7XG4gICAgICogfSBjYXRjaChlKSB7XG4gICAgICogICAgLy8gRXJyb3IgU2VuZGluZyB1c2VyJ3MgZW1haWwgYW4gT1RQIGNvZGVcbiAgICAgKiAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZW4gd2hlbiB5b3VyIHVzZXIgaXMgcmVhZHkgdG8gdmVyaWZ5IHRoZWlyIE9UUFxuICAgICAqIHRyeSB7XG4gICAgICogICAgY29uc3QgdXNlciA9IGF3YWl0IHRoaXJkd2ViSW5BcHBXYWxsZXQuYXV0aC52ZXJpZnlFbWFpbExvZ2luT3RwKHsgZW1haWw6IFwieW91QGV4YW1wbGUuY29tXCIsIG90cDogXCI2LURJR0lUX0NPREVfSEVSRVwiIH0pO1xuICAgICAqIH0gY2F0Y2goZSkge1xuICAgICAqICAgIC8vIEVycm9yIHZlcmlmeWluZyB0aGUgT1RQIGNvZGVcbiAgICAgKiAgICBjb25zb2xlLmVycm9yKGUpXG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqIEBwYXJhbSBwYXJhbTAgLSBwYXJhbTAuZW1haWwgV2Ugd2lsbCBzZW5kIHRoZSBlbWFpbCBhbiBPVFAgdGhhdCBuZWVkcyB0byBiZSBlbnRlcmVkIGluIG9yZGVyIGZvciB0aGVtIHRvIGJlIGxvZ2dlZCBpbi5cbiAgICAgKiBAcmV0dXJucyBge3sgaXNOZXdVc2VyOiBib29sZWFuIH19YCBJc05ld1VzZXIgaW5kaWNhdGVzIGlmIHRoZSB1c2VyIGlzIGEgbmV3IHVzZXIgdG8geW91ciBwbGF0Zm9ybVxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jIHNlbmRFbWFpbExvZ2luT3RwKHsgZW1haWwsIH0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQmFzZUxvZ2luLnNlbmRFbWFpbExvZ2luT3RwKHtcbiAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgc2VuZFNtc0xvZ2luT3RwKHsgcGhvbmVOdW1iZXIsIH0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQmFzZUxvZ2luLnNlbmRTbXNMb2dpbk90cCh7XG4gICAgICAgICAgICBwaG9uZU51bWJlcixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gdmVyaWZ5IHRoZSBvdHAgdGhhdCB0aGUgdXNlciByZWNlaXZlcyBmcm9tIHRoaXJkd2ViXG4gICAgICpcbiAgICAgKiBTZWUge0BsaW5rIEF1dGguc2VuZEVtYWlsTG9naW5PdHB9IGZvciBob3cgdGhlIGhlYWRsZXNzIGNhbGwgZmxvdyBsb29rcyBsaWtlLiBTaW1wbHkgc3dhcCBvdXQgdGhlIGNhbGxzIHRvIGBsb2dpbldpdGhUaGlyZHdlYkVtYWlsT3RwYCB3aXRoIGB2ZXJpZnlUaGlyZHdlYkVtYWlsTG9naW5PdHBgXG4gICAgICogQHBhcmFtIGFyZ3MgLSBwcm9wcy5lbWFpbCBXZSB3aWxsIHNlbmQgdGhlIGVtYWlsIGFuIE9UUCB0aGF0IG5lZWRzIHRvIGJlIGVudGVyZWQgaW4gb3JkZXIgZm9yIHRoZW0gdG8gYmUgbG9nZ2VkIGluLlxuICAgICAqIHByb3BzLm90cCBUaGUgY29kZSB0aGF0IHRoZSB1c2VyIHJlY2VpdmVkIGluIHRoZWlyIGVtYWlsXG4gICAgICogQHJldHVybnMgYHt7dXNlcjogSW5pdGlhbGl6ZWRVc2VyfX1gIEFuIEluaXRpYWxpemVkVXNlciBvYmplY3QgY29udGFpbmluZyB0aGUgdXNlcidzIHN0YXR1cywgd2FsbGV0LCBhdXRoRGV0YWlscywgYW5kIG1vcmVcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBsb2dpbldpdGhFbWFpbE90cChhcmdzKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucHJlTG9naW4oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuQmFzZUxvZ2luLmxvZ2luV2l0aEVtYWlsT3RwKGFyZ3MpO1xuICAgIH1cbiAgICBhc3luYyBhdXRoZW50aWNhdGVXaXRoRW1haWxPdHAoYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5CYXNlTG9naW4uYXV0aGVudGljYXRlV2l0aEVtYWlsT3RwKGFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBsb2dpbldpdGhTbXNPdHAoYXJncykge1xuICAgICAgICBhd2FpdCB0aGlzLnByZUxvZ2luKCk7XG4gICAgICAgIHJldHVybiB0aGlzLkJhc2VMb2dpbi5sb2dpbldpdGhTbXNPdHAoYXJncyk7XG4gICAgfVxuICAgIGFzeW5jIGF1dGhlbnRpY2F0ZVdpdGhTbXNPdHAoYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5CYXNlTG9naW4uYXV0aGVudGljYXRlV2l0aFNtc090cChhcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9ncyBhbnkgZXhpc3RpbmcgdXNlciBvdXQgb2YgdGhlaXIgd2FsbGV0LlxuICAgICAqIEByZXR1cm5zIGB7e3N1Y2Nlc3M6IGJvb2xlYW59fWAgdHJ1ZSBpZiBhIHVzZXIgaXMgc3VjY2Vzc2Z1bGx5IGxvZ2dlZCBvdXQuIGZhbHNlIGlmIHRoZXJlJ3Mgbm8gdXNlciBjdXJyZW50bHkgbG9nZ2VkIGluLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jIGxvZ291dCgpIHtcbiAgICAgICAgY29uc3QgeyBzdWNjZXNzIH0gPSBhd2FpdCB0aGlzLkF1dGhRdWVyaWVyLmNhbGwoe1xuICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJsb2dvdXRcIixcbiAgICAgICAgICAgIHBhcmFtczogdW5kZWZpbmVkLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaXNSZW1vdmVBdXRoQ29va2llID0gYXdhaXQgdGhpcy5sb2NhbFN0b3JhZ2UucmVtb3ZlQXV0aENvb2tpZSgpO1xuICAgICAgICBjb25zdCBpc1JlbW92ZVVzZXJJZCA9IGF3YWl0IHRoaXMubG9jYWxTdG9yYWdlLnJlbW92ZVdhbGxldFVzZXJJZCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3VjY2Vzczogc3VjY2VzcyB8fCBpc1JlbW92ZUF1dGhDb29raWUgfHwgaXNSZW1vdmVVc2VySWQsXG4gICAgICAgIH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWZyYW1lLWF1dGguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/iframe-auth.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/oauth.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/oauth.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loginWithOauth: function() { return /* binding */ loginWithOauth; },\n/* harmony export */   loginWithOauthRedirect: function() { return /* binding */ loginWithOauthRedirect; }\n/* harmony export */ });\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n/* harmony import */ var _core_authentication_getLoginPath_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/authentication/getLoginPath.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/getLoginPath.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/constants.js\");\n\n\n\nconst closeWindow = ({ isWindowOpenedByFn, win, closeOpenedWindow, }) => {\n    if (isWindowOpenedByFn) {\n        win?.close();\n    }\n    else {\n        if (win && closeOpenedWindow) {\n            closeOpenedWindow(win);\n        }\n        else if (win) {\n            win.close();\n        }\n    }\n};\nconst loginWithOauthRedirect = (options) => {\n    const loginUrl = (0,_core_authentication_getLoginPath_js__WEBPACK_IMPORTED_MODULE_0__.getLoginUrl)({\n        ...options,\n        mode: options.mode || \"redirect\",\n    });\n    if (options.mode === \"redirect\") {\n        window.location.href = loginUrl;\n    }\n    else {\n        window.open(loginUrl);\n    }\n};\nconst loginWithOauth = async (options) => {\n    let win = options.openedWindow;\n    let isWindowOpenedByFn = false;\n    if (!win) {\n        win = window.open((0,_core_authentication_getLoginPath_js__WEBPACK_IMPORTED_MODULE_0__.getLoginUrl)({ ...options, mode: \"popup\" }), `Login to ${options.authOption}`, _constants_js__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_POP_UP_SIZE);\n        isWindowOpenedByFn = true;\n    }\n    if (!win) {\n        throw new Error(\"Something went wrong opening pop-up\");\n    }\n    const result = await new Promise((resolve, reject) => {\n        // detect when the user closes the login window\n        const pollTimer = window.setInterval(async () => {\n            if (win.closed) {\n                clearInterval(pollTimer);\n                window.removeEventListener(\"message\", messageListener);\n                reject(new Error(\"User closed login window\"));\n            }\n        }, 1000);\n        const messageListener = async (event) => {\n            if (event.origin !== (0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_2__.getThirdwebBaseUrl)(\"inAppWallet\")) {\n                return;\n            }\n            if (typeof event.data !== \"object\") {\n                reject(new Error(\"Invalid event data\"));\n                return;\n            }\n            switch (event.data.eventType) {\n                case \"oauthSuccessResult\": {\n                    window.removeEventListener(\"message\", messageListener);\n                    clearInterval(pollTimer);\n                    closeWindow({\n                        isWindowOpenedByFn,\n                        win,\n                        closeOpenedWindow: options.closeOpenedWindow,\n                    });\n                    if (event.data.authResult) {\n                        resolve(event.data.authResult);\n                    }\n                    break;\n                }\n                case \"oauthFailureResult\": {\n                    window.removeEventListener(\"message\", messageListener);\n                    clearInterval(pollTimer);\n                    closeWindow({\n                        isWindowOpenedByFn,\n                        win,\n                        closeOpenedWindow: options.closeOpenedWindow,\n                    });\n                    reject(new Error(event.data.errorString));\n                    break;\n                }\n                default: {\n                    // no-op, DO NOT THROW HERE\n                }\n            }\n        };\n        window.addEventListener(\"message\", messageListener);\n    });\n    return result;\n};\n//# sourceMappingURL=oauth.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvb2F1dGguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBcUU7QUFDTTtBQUN0QjtBQUNyRCx1QkFBdUIsNkNBQTZDO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AscUJBQXFCLGlGQUFXO0FBQ2hDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixpRkFBVyxHQUFHLDJCQUEyQixlQUFlLG1CQUFtQixHQUFHLDhEQUFtQjtBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGlDQUFpQyxxRUFBa0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vd2FsbGV0cy9pbi1hcHAvd2ViL2xpYi9hdXRoL29hdXRoLmpzP2ZlNzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0VGhpcmR3ZWJCYXNlVXJsIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL3V0aWxzL2RvbWFpbnMuanNcIjtcbmltcG9ydCB7IGdldExvZ2luVXJsIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvYXV0aGVudGljYXRpb24vZ2V0TG9naW5QYXRoLmpzXCI7XG5pbXBvcnQgeyBERUZBVUxUX1BPUF9VUF9TSVpFIH0gZnJvbSBcIi4vY29uc3RhbnRzLmpzXCI7XG5jb25zdCBjbG9zZVdpbmRvdyA9ICh7IGlzV2luZG93T3BlbmVkQnlGbiwgd2luLCBjbG9zZU9wZW5lZFdpbmRvdywgfSkgPT4ge1xuICAgIGlmIChpc1dpbmRvd09wZW5lZEJ5Rm4pIHtcbiAgICAgICAgd2luPy5jbG9zZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKHdpbiAmJiBjbG9zZU9wZW5lZFdpbmRvdykge1xuICAgICAgICAgICAgY2xvc2VPcGVuZWRXaW5kb3cod2luKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh3aW4pIHtcbiAgICAgICAgICAgIHdpbi5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBsb2dpbldpdGhPYXV0aFJlZGlyZWN0ID0gKG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBsb2dpblVybCA9IGdldExvZ2luVXJsKHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgbW9kZTogb3B0aW9ucy5tb2RlIHx8IFwicmVkaXJlY3RcIixcbiAgICB9KTtcbiAgICBpZiAob3B0aW9ucy5tb2RlID09PSBcInJlZGlyZWN0XCIpIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBsb2dpblVybDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHdpbmRvdy5vcGVuKGxvZ2luVXJsKTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGxvZ2luV2l0aE9hdXRoID0gYXN5bmMgKG9wdGlvbnMpID0+IHtcbiAgICBsZXQgd2luID0gb3B0aW9ucy5vcGVuZWRXaW5kb3c7XG4gICAgbGV0IGlzV2luZG93T3BlbmVkQnlGbiA9IGZhbHNlO1xuICAgIGlmICghd2luKSB7XG4gICAgICAgIHdpbiA9IHdpbmRvdy5vcGVuKGdldExvZ2luVXJsKHsgLi4ub3B0aW9ucywgbW9kZTogXCJwb3B1cFwiIH0pLCBgTG9naW4gdG8gJHtvcHRpb25zLmF1dGhPcHRpb259YCwgREVGQVVMVF9QT1BfVVBfU0laRSk7XG4gICAgICAgIGlzV2luZG93T3BlbmVkQnlGbiA9IHRydWU7XG4gICAgfVxuICAgIGlmICghd2luKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNvbWV0aGluZyB3ZW50IHdyb25nIG9wZW5pbmcgcG9wLXVwXCIpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIC8vIGRldGVjdCB3aGVuIHRoZSB1c2VyIGNsb3NlcyB0aGUgbG9naW4gd2luZG93XG4gICAgICAgIGNvbnN0IHBvbGxUaW1lciA9IHdpbmRvdy5zZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAod2luLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocG9sbFRpbWVyKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgbWVzc2FnZUxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiVXNlciBjbG9zZWQgbG9naW4gd2luZG93XCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VMaXN0ZW5lciA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbiAhPT0gZ2V0VGhpcmR3ZWJCYXNlVXJsKFwiaW5BcHBXYWxsZXRcIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmRhdGEgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiSW52YWxpZCBldmVudCBkYXRhXCIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmRhdGEuZXZlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm9hdXRoU3VjY2Vzc1Jlc3VsdFwiOiB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBtZXNzYWdlTGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHBvbGxUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlV2luZG93KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzV2luZG93T3BlbmVkQnlGbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlT3BlbmVkV2luZG93OiBvcHRpb25zLmNsb3NlT3BlbmVkV2luZG93LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEuYXV0aFJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShldmVudC5kYXRhLmF1dGhSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFwib2F1dGhGYWlsdXJlUmVzdWx0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG1lc3NhZ2VMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocG9sbFRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VXaW5kb3coe1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNXaW5kb3dPcGVuZWRCeUZuLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2luLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VPcGVuZWRXaW5kb3c6IG9wdGlvbnMuY2xvc2VPcGVuZWRXaW5kb3csXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGV2ZW50LmRhdGEuZXJyb3JTdHJpbmcpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm8tb3AsIERPIE5PVCBUSFJPVyBIRVJFXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgbWVzc2FnZUxpc3RlbmVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9hdXRoLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/oauth.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/otp.js":
/*!***************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/otp.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendOtp: function() { return /* binding */ sendOtp; },\n/* harmony export */   verifyOtp: function() { return /* binding */ verifyOtp; }\n/* harmony export */ });\n/* harmony import */ var _core_authentication_getLoginPath_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/authentication/getLoginPath.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/getLoginPath.js\");\n\n/**\n * @internal\n */\nconst sendOtp = async (args) => {\n    const { client, ecosystem } = args;\n    const url = (0,_core_authentication_getLoginPath_js__WEBPACK_IMPORTED_MODULE_0__.getLoginUrl)({ client, ecosystem, authOption: args.strategy });\n    const headers = {\n        \"Content-Type\": \"application/json\",\n        \"x-client-id\": client.clientId,\n    };\n    if (ecosystem?.id) {\n        headers[\"x-ecosystem-id\"] = ecosystem.id;\n    }\n    if (ecosystem?.partnerId) {\n        headers[\"x-ecosystem-partner-id\"] = ecosystem.partnerId;\n    }\n    const body = (() => {\n        switch (args.strategy) {\n            case \"email\":\n                return {\n                    email: args.email,\n                };\n            case \"phone\":\n                return {\n                    phone: args.phoneNumber,\n                };\n        }\n    })();\n    const response = await fetch(url, {\n        method: \"POST\",\n        headers,\n        body: JSON.stringify(body),\n    });\n    if (!response.ok) {\n        throw new Error(\"Failed to send verification code\");\n    }\n    return await response.json();\n};\n/**\n * @internal\n */\nconst verifyOtp = async (args) => {\n    const { client, ecosystem } = args;\n    const url = (0,_core_authentication_getLoginPath_js__WEBPACK_IMPORTED_MODULE_0__.getLoginCallbackUrl)({\n        authOption: args.strategy,\n        client: args.client,\n        ecosystem: args.ecosystem,\n    });\n    const headers = {\n        \"Content-Type\": \"application/json\",\n        \"x-client-id\": client.clientId,\n    };\n    if (ecosystem?.id) {\n        headers[\"x-ecosystem-id\"] = ecosystem.id;\n    }\n    if (ecosystem?.partnerId) {\n        headers[\"x-ecosystem-partner-id\"] = ecosystem.partnerId;\n    }\n    const body = (() => {\n        switch (args.strategy) {\n            case \"email\":\n                return {\n                    email: args.email,\n                    code: args.verificationCode,\n                };\n            case \"phone\":\n                return {\n                    phone: args.phoneNumber,\n                    code: args.verificationCode,\n                };\n        }\n    })();\n    const response = await fetch(url, {\n        method: \"POST\",\n        headers,\n        body: JSON.stringify(body),\n    });\n    if (!response.ok) {\n        throw new Error(\"Failed to verify verification code\");\n    }\n    return await response.json();\n};\n//# sourceMappingURL=otp.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvb3RwLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpRztBQUNqRztBQUNBO0FBQ0E7QUFDTztBQUNQLFlBQVksb0JBQW9CO0FBQ2hDLGdCQUFnQixpRkFBVyxHQUFHLDhDQUE4QztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsWUFBWSxvQkFBb0I7QUFDaEMsZ0JBQWdCLHlGQUFtQjtBQUNuQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3RoaXJkd2ViL2Rpc3QvZXNtL3dhbGxldHMvaW4tYXBwL3dlYi9saWIvYXV0aC9vdHAuanM/MTQyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRMb2dpbkNhbGxiYWNrVXJsLCBnZXRMb2dpblVybCwgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9hdXRoZW50aWNhdGlvbi9nZXRMb2dpblBhdGguanNcIjtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBzZW5kT3RwID0gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBjb25zdCB7IGNsaWVudCwgZWNvc3lzdGVtIH0gPSBhcmdzO1xuICAgIGNvbnN0IHVybCA9IGdldExvZ2luVXJsKHsgY2xpZW50LCBlY29zeXN0ZW0sIGF1dGhPcHRpb246IGFyZ3Muc3RyYXRlZ3kgfSk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwieC1jbGllbnQtaWRcIjogY2xpZW50LmNsaWVudElkLFxuICAgIH07XG4gICAgaWYgKGVjb3N5c3RlbT8uaWQpIHtcbiAgICAgICAgaGVhZGVyc1tcIngtZWNvc3lzdGVtLWlkXCJdID0gZWNvc3lzdGVtLmlkO1xuICAgIH1cbiAgICBpZiAoZWNvc3lzdGVtPy5wYXJ0bmVySWQpIHtcbiAgICAgICAgaGVhZGVyc1tcIngtZWNvc3lzdGVtLXBhcnRuZXItaWRcIl0gPSBlY29zeXN0ZW0ucGFydG5lcklkO1xuICAgIH1cbiAgICBjb25zdCBib2R5ID0gKCgpID0+IHtcbiAgICAgICAgc3dpdGNoIChhcmdzLnN0cmF0ZWd5KSB7XG4gICAgICAgICAgICBjYXNlIFwiZW1haWxcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBlbWFpbDogYXJncy5lbWFpbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBcInBob25lXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcGhvbmU6IGFyZ3MucGhvbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0pKCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gc2VuZCB2ZXJpZmljYXRpb24gY29kZVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbn07XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgdmVyaWZ5T3RwID0gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBjb25zdCB7IGNsaWVudCwgZWNvc3lzdGVtIH0gPSBhcmdzO1xuICAgIGNvbnN0IHVybCA9IGdldExvZ2luQ2FsbGJhY2tVcmwoe1xuICAgICAgICBhdXRoT3B0aW9uOiBhcmdzLnN0cmF0ZWd5LFxuICAgICAgICBjbGllbnQ6IGFyZ3MuY2xpZW50LFxuICAgICAgICBlY29zeXN0ZW06IGFyZ3MuZWNvc3lzdGVtLFxuICAgIH0pO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBcIngtY2xpZW50LWlkXCI6IGNsaWVudC5jbGllbnRJZCxcbiAgICB9O1xuICAgIGlmIChlY29zeXN0ZW0/LmlkKSB7XG4gICAgICAgIGhlYWRlcnNbXCJ4LWVjb3N5c3RlbS1pZFwiXSA9IGVjb3N5c3RlbS5pZDtcbiAgICB9XG4gICAgaWYgKGVjb3N5c3RlbT8ucGFydG5lcklkKSB7XG4gICAgICAgIGhlYWRlcnNbXCJ4LWVjb3N5c3RlbS1wYXJ0bmVyLWlkXCJdID0gZWNvc3lzdGVtLnBhcnRuZXJJZDtcbiAgICB9XG4gICAgY29uc3QgYm9keSA9ICgoKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoYXJncy5zdHJhdGVneSkge1xuICAgICAgICAgICAgY2FzZSBcImVtYWlsXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGFyZ3MuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGFyZ3MudmVyaWZpY2F0aW9uQ29kZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBcInBob25lXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcGhvbmU6IGFyZ3MucGhvbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGFyZ3MudmVyaWZpY2F0aW9uQ29kZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSkoKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICB9KTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byB2ZXJpZnkgdmVyaWZpY2F0aW9uIGNvZGVcIik7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3RwLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/otp.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/in-app-account.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/in-app-account.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IFrameWallet: function() { return /* binding */ IFrameWallet; }\n/* harmony export */ });\n/* harmony import */ var _chains_utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../chains/utils.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/chains/utils.js\");\n/* harmony import */ var _rpc_actions_eth_sendRawTransaction_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../rpc/actions/eth_sendRawTransaction.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/rpc/actions/eth_sendRawTransaction.js\");\n/* harmony import */ var _rpc_rpc_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../rpc/rpc.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/rpc/rpc.js\");\n/* harmony import */ var _utils_address_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../utils/address.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/address.js\");\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n/* harmony import */ var _utils_encoding_hex_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../utils/encoding/hex.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/encoding/hex.js\");\n/* harmony import */ var _utils_signatures_helpers_parseTypedData_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../utils/signatures/helpers/parseTypedData.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/signatures/helpers/parseTypedData.js\");\n/* harmony import */ var _utils_storage_webStorage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../utils/storage/webStorage.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/storage/webStorage.js\");\n/* harmony import */ var _ecosystem_get_ecosystem_partner_permissions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../ecosystem/get-ecosystem-partner-permissions.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/ecosystem/get-ecosystem-partner-permissions.js\");\n/* harmony import */ var _core_authentication_client_scoped_storage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/authentication/client-scoped-storage.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/client-scoped-storage.js\");\n/* harmony import */ var _core_authentication_types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/authentication/types.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/types.js\");\n\n\n\n\n\n\n\n\n\n\n\n/**\n *\n */\nclass IFrameWallet {\n    /**\n     * Not meant to be initialized directly. Call {@link initializeUser} to get an instance\n     * @internal\n     */\n    constructor({ client, ecosystem, querier, }) {\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"ecosystem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"walletManagerQuerier\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"localStorage\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.client = client;\n        this.ecosystem = ecosystem;\n        this.walletManagerQuerier = querier;\n        this.localStorage = new _core_authentication_client_scoped_storage_js__WEBPACK_IMPORTED_MODULE_0__.ClientScopedStorage({\n            storage: _utils_storage_webStorage_js__WEBPACK_IMPORTED_MODULE_1__.webLocalStorage,\n            clientId: client.clientId,\n            ecosystemId: ecosystem?.id,\n        });\n    }\n    /**\n     * Used to set-up the user device in the case that they are using incognito\n     * @returns `{walletAddress : string }` The user's wallet details\n     * @internal\n     */\n    async postWalletSetUp({ deviceShareStored, walletAddress, isIframeStorageEnabled, walletUserId, }) {\n        if (!isIframeStorageEnabled) {\n            await this.localStorage.saveDeviceShare(deviceShareStored, walletUserId);\n        }\n        return { walletAddress };\n    }\n    /**\n     * Gets the various status states of the user\n     * @example\n     * ```typescript\n     *  const userStatus = await Paper.getUserWalletStatus();\n     *  switch (userStatus.status) {\n     *  case UserWalletStatus.LOGGED_OUT: {\n     *    // User is logged out, call one of the auth methods on Paper.auth to authenticate the user\n     *    break;\n     *  }\n     *  case UserWalletStatus.LOGGED_IN_WALLET_UNINITIALIZED: {\n     *    // User is logged in, but does not have a wallet associated with it\n     *    // you also have access to the user's details\n     *    userStatus.user.authDetails;\n     *    break;\n     *  }\n     *  case UserWalletStatus.LOGGED_IN_NEW_DEVICE: {\n     *    // User is logged in and created a wallet already, but is missing the device shard\n     *    // You have access to:\n     *    userStatus.user.authDetails;\n     *    userStatus.user.walletAddress;\n     *    break;\n     *  }\n     *  case UserWalletStatus.LOGGED_IN_WALLET_INITIALIZED: {\n     *    // user is logged in and wallet is all set up.\n     *    // You have access to:\n     *    userStatus.user.authDetails;\n     *    userStatus.user.walletAddress;\n     *    userStatus.user.wallet;\n     *    break;\n     *  }\n     *}\n     *```\n     * @returns `{GetUserWalletStatusFnReturnType}` an object to containing various information on the user statuses\n     * @internal\n     */\n    async getUserWalletStatus() {\n        const userStatus = await this.walletManagerQuerier.call({\n            procedureName: \"getUserStatus\",\n            params: undefined,\n        });\n        if (userStatus.status === _core_authentication_types_js__WEBPACK_IMPORTED_MODULE_2__.UserWalletStatus.LOGGED_IN_WALLET_INITIALIZED) {\n            return {\n                status: _core_authentication_types_js__WEBPACK_IMPORTED_MODULE_2__.UserWalletStatus.LOGGED_IN_WALLET_INITIALIZED,\n                ...userStatus.user,\n                account: await this.getAccount(),\n            };\n        }\n        if (userStatus.status === _core_authentication_types_js__WEBPACK_IMPORTED_MODULE_2__.UserWalletStatus.LOGGED_IN_NEW_DEVICE) {\n            return {\n                status: _core_authentication_types_js__WEBPACK_IMPORTED_MODULE_2__.UserWalletStatus.LOGGED_IN_WALLET_UNINITIALIZED,\n                ...userStatus.user,\n            };\n        }\n        if (userStatus.status === _core_authentication_types_js__WEBPACK_IMPORTED_MODULE_2__.UserWalletStatus.LOGGED_IN_WALLET_UNINITIALIZED) {\n            return {\n                status: _core_authentication_types_js__WEBPACK_IMPORTED_MODULE_2__.UserWalletStatus.LOGGED_IN_WALLET_UNINITIALIZED,\n                ...userStatus.user,\n            };\n        }\n        // Logged out\n        return { status: userStatus.status };\n    }\n    /**\n     * Returns an account that communicates with the iFrame for signing operations\n     * @internal\n     */\n    async getAccount() {\n        const querier = this\n            .walletManagerQuerier;\n        const client = this.client;\n        const partnerId = this.ecosystem?.partnerId;\n        const isEcosystem = !!this.ecosystem;\n        const permissions = this.ecosystem?.partnerId\n            ? await (0,_ecosystem_get_ecosystem_partner_permissions_js__WEBPACK_IMPORTED_MODULE_3__.getEcosystemPartnerPermissions)(this.ecosystem.id, this.ecosystem?.partnerId)\n            : undefined;\n        const { address } = await querier.call({\n            procedureName: \"getAddress\",\n            params: undefined,\n        });\n        const _signTransaction = async (tx) => {\n            // biome-ignore lint/suspicious/noExplicitAny: ethers tx transformation\n            const transaction = {\n                to: tx.to ?? undefined,\n                data: tx.data,\n                value: tx.value,\n                gasLimit: tx.gas,\n                nonce: tx.nonce,\n                chainId: tx.chainId,\n            };\n            if (tx.maxFeePerGas) {\n                // ethers (in the iframe) rejects any type 0 trasaction with unknown keys\n                // TODO remove this once iframe is upgraded to v5\n                transaction.accessList = tx.accessList;\n                transaction.maxFeePerGas = tx.maxFeePerGas;\n                transaction.maxPriorityFeePerGas = tx.maxPriorityFeePerGas;\n                transaction.type = 2;\n            }\n            else {\n                transaction.gasPrice = tx.gasPrice;\n                transaction.type = 0;\n            }\n            const RPC_URL = (0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_4__.getThirdwebDomains)().rpc;\n            const { signedTransaction } = await querier.call({\n                procedureName: \"signTransaction\",\n                params: {\n                    transaction,\n                    chainId: tx.chainId,\n                    partnerId,\n                    rpcEndpoint: `https://${tx.chainId}.${RPC_URL}`, // TODO (ew) shouldnt be needed\n                },\n                // Can hide the iframe if the partner has full control (no user approvals)\n                showIframe: permissions?.permissions.includes(\"FULL_CONTROL_V1\")\n                    ? false\n                    : isEcosystem,\n            });\n            return signedTransaction;\n        };\n        return {\n            address: (0,_utils_address_js__WEBPACK_IMPORTED_MODULE_5__.getAddress)(address),\n            async signTransaction(tx) {\n                if (!tx.chainId) {\n                    throw new Error(\"chainId required in tx to sign\");\n                }\n                return _signTransaction({\n                    ...tx,\n                    chainId: tx.chainId,\n                });\n            },\n            async sendTransaction(tx) {\n                const rpcRequest = (0,_rpc_rpc_js__WEBPACK_IMPORTED_MODULE_6__.getRpcClient)({\n                    client,\n                    chain: (0,_chains_utils_js__WEBPACK_IMPORTED_MODULE_7__.getCachedChain)(tx.chainId),\n                });\n                const signedTx = await _signTransaction(tx);\n                const transactionHash = await (0,_rpc_actions_eth_sendRawTransaction_js__WEBPACK_IMPORTED_MODULE_8__.eth_sendRawTransaction)(rpcRequest, signedTx);\n                return {\n                    transactionHash,\n                };\n            },\n            async signMessage({ message }) {\n                // in-app wallets use ethers to sign messages, which always expects a string (or bytes maybe but string is safest)\n                const messageDecoded = (() => {\n                    if (typeof message === \"string\") {\n                        return message;\n                    }\n                    if (message.raw instanceof Uint8Array) {\n                        return message.raw;\n                    }\n                    return (0,_utils_encoding_hex_js__WEBPACK_IMPORTED_MODULE_9__.hexToString)(message.raw);\n                })();\n                const { signedMessage } = await querier.call({\n                    procedureName: \"signMessage\",\n                    params: {\n                        // biome-ignore lint/suspicious/noExplicitAny: ethers tx transformation\n                        message: messageDecoded, // needs bytes or string\n                        partnerId,\n                        chainId: 1, // TODO check if we need this\n                    },\n                    // Can hide the iframe if the partner has full control (no user approvals)\n                    showIframe: permissions?.permissions.includes(\"FULL_CONTROL_V1\")\n                        ? false\n                        : isEcosystem,\n                });\n                return signedMessage;\n            },\n            async signTypedData(_typedData) {\n                console.log(\"signTypedData\", _typedData);\n                const parsedTypedData = (0,_utils_signatures_helpers_parseTypedData_js__WEBPACK_IMPORTED_MODULE_10__.parseTypedData)(_typedData);\n                // deleting EIP712 Domain as it results in ambiguous primary type on some cases\n                // this happens when going from viem to ethers via the iframe\n                if (parsedTypedData.types?.EIP712Domain) {\n                    parsedTypedData.types.EIP712Domain = undefined;\n                }\n                const domain = parsedTypedData.domain;\n                const chainId = domain?.chainId;\n                const verifyingContract = domain?.verifyingContract\n                    ? { verifyingContract: domain?.verifyingContract }\n                    : {};\n                const domainData = {\n                    ...verifyingContract,\n                    name: domain?.name,\n                    version: domain?.version,\n                };\n                // chain id can't be included if it wasn't explicitly specified\n                if (chainId) {\n                    domainData.chainId = chainId;\n                }\n                const RPC_URL = (0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_4__.getThirdwebDomains)().rpc;\n                const { signedTypedData } = await querier.call({\n                    procedureName: \"signTypedDataV4\",\n                    params: {\n                        domain: domainData,\n                        types: parsedTypedData.types,\n                        message: parsedTypedData.message,\n                        chainId: chainId || 1,\n                        partnerId,\n                        rpcEndpoint: `https://${chainId}.${RPC_URL}`, // TODO (ew) shouldnt be needed\n                    },\n                    // Can hide the iframe if the partner has full control (no user approvals)\n                    showIframe: permissions?.permissions.includes(\"FULL_CONTROL_V1\")\n                        ? false\n                        : isEcosystem,\n                });\n                return signedTypedData;\n            },\n        };\n    }\n}\n//# sourceMappingURL=in-app-account.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2luLWFwcC1hY2NvdW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUE2RDtBQUM4QjtBQUNyQztBQUNJO0FBQ1E7QUFDRjtBQUN3QjtBQUNkO0FBQytCO0FBQ2hCO0FBQ2xCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxtREFBbUQsc0JBQXNCO0FBQ3pFO0FBQ0E7QUFDQSxrQkFBa0IsNkJBQTZCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDhGQUFtQjtBQUNuRCxxQkFBcUIseUVBQWU7QUFDcEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0JBQXdCO0FBQzFDO0FBQ0E7QUFDQSw0QkFBNEIseUVBQXlFO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQ0FBZ0M7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGtDQUFrQywyRUFBZ0I7QUFDbEQ7QUFDQSx3QkFBd0IsMkVBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDJFQUFnQjtBQUNsRDtBQUNBLHdCQUF3QiwyRUFBZ0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDJFQUFnQjtBQUNsRDtBQUNBLHdCQUF3QiwyRUFBZ0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtHQUE4QjtBQUNsRDtBQUNBLGdCQUFnQixVQUFVO0FBQzFCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscUVBQWtCO0FBQzlDLG9CQUFvQixvQkFBb0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxXQUFXLEdBQUcsUUFBUTtBQUNsRSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDZEQUFVO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBLG1DQUFtQyx5REFBWTtBQUMvQztBQUNBLDJCQUEyQixnRUFBYztBQUN6QyxpQkFBaUI7QUFDakI7QUFDQSw4Q0FBOEMsOEZBQXNCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixnQ0FBZ0MsU0FBUztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG1FQUFXO0FBQ3RDLGlCQUFpQjtBQUNqQix3QkFBd0IsZ0JBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0Esd0NBQXdDLDRGQUFjO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MscUVBQWtCO0FBQ2xELHdCQUF3QixrQkFBa0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsUUFBUSxHQUFHLFFBQVE7QUFDbkUscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2luLWFwcC1hY2NvdW50LmpzPzk2NTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Q2FjaGVkQ2hhaW4gfSBmcm9tIFwiLi4vLi4vLi4vLi4vY2hhaW5zL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBldGhfc2VuZFJhd1RyYW5zYWN0aW9uIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3JwYy9hY3Rpb25zL2V0aF9zZW5kUmF3VHJhbnNhY3Rpb24uanNcIjtcbmltcG9ydCB7IGdldFJwY0NsaWVudCB9IGZyb20gXCIuLi8uLi8uLi8uLi9ycGMvcnBjLmpzXCI7XG5pbXBvcnQgeyBnZXRBZGRyZXNzIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2FkZHJlc3MuanNcIjtcbmltcG9ydCB7IGdldFRoaXJkd2ViRG9tYWlucyB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9kb21haW5zLmpzXCI7XG5pbXBvcnQgeyBoZXhUb1N0cmluZyB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9lbmNvZGluZy9oZXguanNcIjtcbmltcG9ydCB7IHBhcnNlVHlwZWREYXRhIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL3NpZ25hdHVyZXMvaGVscGVycy9wYXJzZVR5cGVkRGF0YS5qc1wiO1xuaW1wb3J0IHsgd2ViTG9jYWxTdG9yYWdlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL3N0b3JhZ2Uvd2ViU3RvcmFnZS5qc1wiO1xuaW1wb3J0IHsgZ2V0RWNvc3lzdGVtUGFydG5lclBlcm1pc3Npb25zIH0gZnJvbSBcIi4uLy4uLy4uL2Vjb3N5c3RlbS9nZXQtZWNvc3lzdGVtLXBhcnRuZXItcGVybWlzc2lvbnMuanNcIjtcbmltcG9ydCB7IENsaWVudFNjb3BlZFN0b3JhZ2UgfSBmcm9tIFwiLi4vLi4vY29yZS9hdXRoZW50aWNhdGlvbi9jbGllbnQtc2NvcGVkLXN0b3JhZ2UuanNcIjtcbmltcG9ydCB7IFVzZXJXYWxsZXRTdGF0dXMsIH0gZnJvbSBcIi4uLy4uL2NvcmUvYXV0aGVudGljYXRpb24vdHlwZXMuanNcIjtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIElGcmFtZVdhbGxldCB7XG4gICAgLyoqXG4gICAgICogTm90IG1lYW50IHRvIGJlIGluaXRpYWxpemVkIGRpcmVjdGx5LiBDYWxsIHtAbGluayBpbml0aWFsaXplVXNlcn0gdG8gZ2V0IGFuIGluc3RhbmNlXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeyBjbGllbnQsIGVjb3N5c3RlbSwgcXVlcmllciwgfSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZWNvc3lzdGVtXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndhbGxldE1hbmFnZXJRdWVyaWVyXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxvY2FsU3RvcmFnZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICAgICAgdGhpcy5lY29zeXN0ZW0gPSBlY29zeXN0ZW07XG4gICAgICAgIHRoaXMud2FsbGV0TWFuYWdlclF1ZXJpZXIgPSBxdWVyaWVyO1xuICAgICAgICB0aGlzLmxvY2FsU3RvcmFnZSA9IG5ldyBDbGllbnRTY29wZWRTdG9yYWdlKHtcbiAgICAgICAgICAgIHN0b3JhZ2U6IHdlYkxvY2FsU3RvcmFnZSxcbiAgICAgICAgICAgIGNsaWVudElkOiBjbGllbnQuY2xpZW50SWQsXG4gICAgICAgICAgICBlY29zeXN0ZW1JZDogZWNvc3lzdGVtPy5pZCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gc2V0LXVwIHRoZSB1c2VyIGRldmljZSBpbiB0aGUgY2FzZSB0aGF0IHRoZXkgYXJlIHVzaW5nIGluY29nbml0b1xuICAgICAqIEByZXR1cm5zIGB7d2FsbGV0QWRkcmVzcyA6IHN0cmluZyB9YCBUaGUgdXNlcidzIHdhbGxldCBkZXRhaWxzXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgcG9zdFdhbGxldFNldFVwKHsgZGV2aWNlU2hhcmVTdG9yZWQsIHdhbGxldEFkZHJlc3MsIGlzSWZyYW1lU3RvcmFnZUVuYWJsZWQsIHdhbGxldFVzZXJJZCwgfSkge1xuICAgICAgICBpZiAoIWlzSWZyYW1lU3RvcmFnZUVuYWJsZWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9jYWxTdG9yYWdlLnNhdmVEZXZpY2VTaGFyZShkZXZpY2VTaGFyZVN0b3JlZCwgd2FsbGV0VXNlcklkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB3YWxsZXRBZGRyZXNzIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhcmlvdXMgc3RhdHVzIHN0YXRlcyBvZiB0aGUgdXNlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqICBjb25zdCB1c2VyU3RhdHVzID0gYXdhaXQgUGFwZXIuZ2V0VXNlcldhbGxldFN0YXR1cygpO1xuICAgICAqICBzd2l0Y2ggKHVzZXJTdGF0dXMuc3RhdHVzKSB7XG4gICAgICogIGNhc2UgVXNlcldhbGxldFN0YXR1cy5MT0dHRURfT1VUOiB7XG4gICAgICogICAgLy8gVXNlciBpcyBsb2dnZWQgb3V0LCBjYWxsIG9uZSBvZiB0aGUgYXV0aCBtZXRob2RzIG9uIFBhcGVyLmF1dGggdG8gYXV0aGVudGljYXRlIHRoZSB1c2VyXG4gICAgICogICAgYnJlYWs7XG4gICAgICogIH1cbiAgICAgKiAgY2FzZSBVc2VyV2FsbGV0U3RhdHVzLkxPR0dFRF9JTl9XQUxMRVRfVU5JTklUSUFMSVpFRDoge1xuICAgICAqICAgIC8vIFVzZXIgaXMgbG9nZ2VkIGluLCBidXQgZG9lcyBub3QgaGF2ZSBhIHdhbGxldCBhc3NvY2lhdGVkIHdpdGggaXRcbiAgICAgKiAgICAvLyB5b3UgYWxzbyBoYXZlIGFjY2VzcyB0byB0aGUgdXNlcidzIGRldGFpbHNcbiAgICAgKiAgICB1c2VyU3RhdHVzLnVzZXIuYXV0aERldGFpbHM7XG4gICAgICogICAgYnJlYWs7XG4gICAgICogIH1cbiAgICAgKiAgY2FzZSBVc2VyV2FsbGV0U3RhdHVzLkxPR0dFRF9JTl9ORVdfREVWSUNFOiB7XG4gICAgICogICAgLy8gVXNlciBpcyBsb2dnZWQgaW4gYW5kIGNyZWF0ZWQgYSB3YWxsZXQgYWxyZWFkeSwgYnV0IGlzIG1pc3NpbmcgdGhlIGRldmljZSBzaGFyZFxuICAgICAqICAgIC8vIFlvdSBoYXZlIGFjY2VzcyB0bzpcbiAgICAgKiAgICB1c2VyU3RhdHVzLnVzZXIuYXV0aERldGFpbHM7XG4gICAgICogICAgdXNlclN0YXR1cy51c2VyLndhbGxldEFkZHJlc3M7XG4gICAgICogICAgYnJlYWs7XG4gICAgICogIH1cbiAgICAgKiAgY2FzZSBVc2VyV2FsbGV0U3RhdHVzLkxPR0dFRF9JTl9XQUxMRVRfSU5JVElBTElaRUQ6IHtcbiAgICAgKiAgICAvLyB1c2VyIGlzIGxvZ2dlZCBpbiBhbmQgd2FsbGV0IGlzIGFsbCBzZXQgdXAuXG4gICAgICogICAgLy8gWW91IGhhdmUgYWNjZXNzIHRvOlxuICAgICAqICAgIHVzZXJTdGF0dXMudXNlci5hdXRoRGV0YWlscztcbiAgICAgKiAgICB1c2VyU3RhdHVzLnVzZXIud2FsbGV0QWRkcmVzcztcbiAgICAgKiAgICB1c2VyU3RhdHVzLnVzZXIud2FsbGV0O1xuICAgICAqICAgIGJyZWFrO1xuICAgICAqICB9XG4gICAgICp9XG4gICAgICpgYGBcbiAgICAgKiBAcmV0dXJucyBge0dldFVzZXJXYWxsZXRTdGF0dXNGblJldHVyblR5cGV9YCBhbiBvYmplY3QgdG8gY29udGFpbmluZyB2YXJpb3VzIGluZm9ybWF0aW9uIG9uIHRoZSB1c2VyIHN0YXR1c2VzXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgZ2V0VXNlcldhbGxldFN0YXR1cygpIHtcbiAgICAgICAgY29uc3QgdXNlclN0YXR1cyA9IGF3YWl0IHRoaXMud2FsbGV0TWFuYWdlclF1ZXJpZXIuY2FsbCh7XG4gICAgICAgICAgICBwcm9jZWR1cmVOYW1lOiBcImdldFVzZXJTdGF0dXNcIixcbiAgICAgICAgICAgIHBhcmFtczogdW5kZWZpbmVkLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHVzZXJTdGF0dXMuc3RhdHVzID09PSBVc2VyV2FsbGV0U3RhdHVzLkxPR0dFRF9JTl9XQUxMRVRfSU5JVElBTElaRUQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBVc2VyV2FsbGV0U3RhdHVzLkxPR0dFRF9JTl9XQUxMRVRfSU5JVElBTElaRUQsXG4gICAgICAgICAgICAgICAgLi4udXNlclN0YXR1cy51c2VyLFxuICAgICAgICAgICAgICAgIGFjY291bnQ6IGF3YWl0IHRoaXMuZ2V0QWNjb3VudCgpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXNlclN0YXR1cy5zdGF0dXMgPT09IFVzZXJXYWxsZXRTdGF0dXMuTE9HR0VEX0lOX05FV19ERVZJQ0UpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBVc2VyV2FsbGV0U3RhdHVzLkxPR0dFRF9JTl9XQUxMRVRfVU5JTklUSUFMSVpFRCxcbiAgICAgICAgICAgICAgICAuLi51c2VyU3RhdHVzLnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh1c2VyU3RhdHVzLnN0YXR1cyA9PT0gVXNlcldhbGxldFN0YXR1cy5MT0dHRURfSU5fV0FMTEVUX1VOSU5JVElBTElaRUQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBVc2VyV2FsbGV0U3RhdHVzLkxPR0dFRF9JTl9XQUxMRVRfVU5JTklUSUFMSVpFRCxcbiAgICAgICAgICAgICAgICAuLi51c2VyU3RhdHVzLnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIExvZ2dlZCBvdXRcbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiB1c2VyU3RhdHVzLnN0YXR1cyB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFjY291bnQgdGhhdCBjb21tdW5pY2F0ZXMgd2l0aCB0aGUgaUZyYW1lIGZvciBzaWduaW5nIG9wZXJhdGlvbnNcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBnZXRBY2NvdW50KCkge1xuICAgICAgICBjb25zdCBxdWVyaWVyID0gdGhpc1xuICAgICAgICAgICAgLndhbGxldE1hbmFnZXJRdWVyaWVyO1xuICAgICAgICBjb25zdCBjbGllbnQgPSB0aGlzLmNsaWVudDtcbiAgICAgICAgY29uc3QgcGFydG5lcklkID0gdGhpcy5lY29zeXN0ZW0/LnBhcnRuZXJJZDtcbiAgICAgICAgY29uc3QgaXNFY29zeXN0ZW0gPSAhIXRoaXMuZWNvc3lzdGVtO1xuICAgICAgICBjb25zdCBwZXJtaXNzaW9ucyA9IHRoaXMuZWNvc3lzdGVtPy5wYXJ0bmVySWRcbiAgICAgICAgICAgID8gYXdhaXQgZ2V0RWNvc3lzdGVtUGFydG5lclBlcm1pc3Npb25zKHRoaXMuZWNvc3lzdGVtLmlkLCB0aGlzLmVjb3N5c3RlbT8ucGFydG5lcklkKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHsgYWRkcmVzcyB9ID0gYXdhaXQgcXVlcmllci5jYWxsKHtcbiAgICAgICAgICAgIHByb2NlZHVyZU5hbWU6IFwiZ2V0QWRkcmVzc1wiLFxuICAgICAgICAgICAgcGFyYW1zOiB1bmRlZmluZWQsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBfc2lnblRyYW5zYWN0aW9uID0gYXN5bmMgKHR4KSA9PiB7XG4gICAgICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vRXhwbGljaXRBbnk6IGV0aGVycyB0eCB0cmFuc2Zvcm1hdGlvblxuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB7XG4gICAgICAgICAgICAgICAgdG86IHR4LnRvID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBkYXRhOiB0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0eC52YWx1ZSxcbiAgICAgICAgICAgICAgICBnYXNMaW1pdDogdHguZ2FzLFxuICAgICAgICAgICAgICAgIG5vbmNlOiB0eC5ub25jZSxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiB0eC5jaGFpbklkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0eC5tYXhGZWVQZXJHYXMpIHtcbiAgICAgICAgICAgICAgICAvLyBldGhlcnMgKGluIHRoZSBpZnJhbWUpIHJlamVjdHMgYW55IHR5cGUgMCB0cmFzYWN0aW9uIHdpdGggdW5rbm93biBrZXlzXG4gICAgICAgICAgICAgICAgLy8gVE9ETyByZW1vdmUgdGhpcyBvbmNlIGlmcmFtZSBpcyB1cGdyYWRlZCB0byB2NVxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLmFjY2Vzc0xpc3QgPSB0eC5hY2Nlc3NMaXN0O1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLm1heEZlZVBlckdhcyA9IHR4Lm1heEZlZVBlckdhcztcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5tYXhQcmlvcml0eUZlZVBlckdhcyA9IHR4Lm1heFByaW9yaXR5RmVlUGVyR2FzO1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLnR5cGUgPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24uZ2FzUHJpY2UgPSB0eC5nYXNQcmljZTtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi50eXBlID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IFJQQ19VUkwgPSBnZXRUaGlyZHdlYkRvbWFpbnMoKS5ycGM7XG4gICAgICAgICAgICBjb25zdCB7IHNpZ25lZFRyYW5zYWN0aW9uIH0gPSBhd2FpdCBxdWVyaWVyLmNhbGwoe1xuICAgICAgICAgICAgICAgIHByb2NlZHVyZU5hbWU6IFwic2lnblRyYW5zYWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiB0eC5jaGFpbklkLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0bmVySWQsXG4gICAgICAgICAgICAgICAgICAgIHJwY0VuZHBvaW50OiBgaHR0cHM6Ly8ke3R4LmNoYWluSWR9LiR7UlBDX1VSTH1gLCAvLyBUT0RPIChldykgc2hvdWxkbnQgYmUgbmVlZGVkXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBDYW4gaGlkZSB0aGUgaWZyYW1lIGlmIHRoZSBwYXJ0bmVyIGhhcyBmdWxsIGNvbnRyb2wgKG5vIHVzZXIgYXBwcm92YWxzKVxuICAgICAgICAgICAgICAgIHNob3dJZnJhbWU6IHBlcm1pc3Npb25zPy5wZXJtaXNzaW9ucy5pbmNsdWRlcyhcIkZVTExfQ09OVFJPTF9WMVwiKVxuICAgICAgICAgICAgICAgICAgICA/IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIDogaXNFY29zeXN0ZW0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzaWduZWRUcmFuc2FjdGlvbjtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFkZHJlc3M6IGdldEFkZHJlc3MoYWRkcmVzcyksXG4gICAgICAgICAgICBhc3luYyBzaWduVHJhbnNhY3Rpb24odHgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXR4LmNoYWluSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2hhaW5JZCByZXF1aXJlZCBpbiB0eCB0byBzaWduXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gX3NpZ25UcmFuc2FjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIC4uLnR4LFxuICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiB0eC5jaGFpbklkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFzeW5jIHNlbmRUcmFuc2FjdGlvbih0eCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJwY1JlcXVlc3QgPSBnZXRScGNDbGllbnQoe1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICAgICAgICAgIGNoYWluOiBnZXRDYWNoZWRDaGFpbih0eC5jaGFpbklkKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaWduZWRUeCA9IGF3YWl0IF9zaWduVHJhbnNhY3Rpb24odHgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uSGFzaCA9IGF3YWl0IGV0aF9zZW5kUmF3VHJhbnNhY3Rpb24ocnBjUmVxdWVzdCwgc2lnbmVkVHgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFzeW5jIHNpZ25NZXNzYWdlKHsgbWVzc2FnZSB9KSB7XG4gICAgICAgICAgICAgICAgLy8gaW4tYXBwIHdhbGxldHMgdXNlIGV0aGVycyB0byBzaWduIG1lc3NhZ2VzLCB3aGljaCBhbHdheXMgZXhwZWN0cyBhIHN0cmluZyAob3IgYnl0ZXMgbWF5YmUgYnV0IHN0cmluZyBpcyBzYWZlc3QpXG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZURlY29kZWQgPSAoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnJhdyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLnJhdztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGV4VG9TdHJpbmcobWVzc2FnZS5yYXcpO1xuICAgICAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzaWduZWRNZXNzYWdlIH0gPSBhd2FpdCBxdWVyaWVyLmNhbGwoe1xuICAgICAgICAgICAgICAgICAgICBwcm9jZWR1cmVOYW1lOiBcInNpZ25NZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0V4cGxpY2l0QW55OiBldGhlcnMgdHggdHJhbnNmb3JtYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VEZWNvZGVkLCAvLyBuZWVkcyBieXRlcyBvciBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRuZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsIC8vIFRPRE8gY2hlY2sgaWYgd2UgbmVlZCB0aGlzXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbiBoaWRlIHRoZSBpZnJhbWUgaWYgdGhlIHBhcnRuZXIgaGFzIGZ1bGwgY29udHJvbCAobm8gdXNlciBhcHByb3ZhbHMpXG4gICAgICAgICAgICAgICAgICAgIHNob3dJZnJhbWU6IHBlcm1pc3Npb25zPy5wZXJtaXNzaW9ucy5pbmNsdWRlcyhcIkZVTExfQ09OVFJPTF9WMVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpc0Vjb3N5c3RlbSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2lnbmVkTWVzc2FnZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3luYyBzaWduVHlwZWREYXRhKF90eXBlZERhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNpZ25UeXBlZERhdGFcIiwgX3R5cGVkRGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkVHlwZWREYXRhID0gcGFyc2VUeXBlZERhdGEoX3R5cGVkRGF0YSk7XG4gICAgICAgICAgICAgICAgLy8gZGVsZXRpbmcgRUlQNzEyIERvbWFpbiBhcyBpdCByZXN1bHRzIGluIGFtYmlndW91cyBwcmltYXJ5IHR5cGUgb24gc29tZSBjYXNlc1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgaGFwcGVucyB3aGVuIGdvaW5nIGZyb20gdmllbSB0byBldGhlcnMgdmlhIHRoZSBpZnJhbWVcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VkVHlwZWREYXRhLnR5cGVzPy5FSVA3MTJEb21haW4pIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkVHlwZWREYXRhLnR5cGVzLkVJUDcxMkRvbWFpbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZG9tYWluID0gcGFyc2VkVHlwZWREYXRhLmRvbWFpbjtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFpbklkID0gZG9tYWluPy5jaGFpbklkO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZlcmlmeWluZ0NvbnRyYWN0ID0gZG9tYWluPy52ZXJpZnlpbmdDb250cmFjdFxuICAgICAgICAgICAgICAgICAgICA/IHsgdmVyaWZ5aW5nQ29udHJhY3Q6IGRvbWFpbj8udmVyaWZ5aW5nQ29udHJhY3QgfVxuICAgICAgICAgICAgICAgICAgICA6IHt9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvbWFpbkRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnZlcmlmeWluZ0NvbnRyYWN0LFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBkb21haW4/Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb246IGRvbWFpbj8udmVyc2lvbixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIGNoYWluIGlkIGNhbid0IGJlIGluY2x1ZGVkIGlmIGl0IHdhc24ndCBleHBsaWNpdGx5IHNwZWNpZmllZFxuICAgICAgICAgICAgICAgIGlmIChjaGFpbklkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbWFpbkRhdGEuY2hhaW5JZCA9IGNoYWluSWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IFJQQ19VUkwgPSBnZXRUaGlyZHdlYkRvbWFpbnMoKS5ycGM7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzaWduZWRUeXBlZERhdGEgfSA9IGF3YWl0IHF1ZXJpZXIuY2FsbCh7XG4gICAgICAgICAgICAgICAgICAgIHByb2NlZHVyZU5hbWU6IFwic2lnblR5cGVkRGF0YVY0XCIsXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9tYWluOiBkb21haW5EYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZXM6IHBhcnNlZFR5cGVkRGF0YS50eXBlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHBhcnNlZFR5cGVkRGF0YS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogY2hhaW5JZCB8fCAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydG5lcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcnBjRW5kcG9pbnQ6IGBodHRwczovLyR7Y2hhaW5JZH0uJHtSUENfVVJMfWAsIC8vIFRPRE8gKGV3KSBzaG91bGRudCBiZSBuZWVkZWRcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FuIGhpZGUgdGhlIGlmcmFtZSBpZiB0aGUgcGFydG5lciBoYXMgZnVsbCBjb250cm9sIChubyB1c2VyIGFwcHJvdmFscylcbiAgICAgICAgICAgICAgICAgICAgc2hvd0lmcmFtZTogcGVybWlzc2lvbnM/LnBlcm1pc3Npb25zLmluY2x1ZGVzKFwiRlVMTF9DT05UUk9MX1YxXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGlzRWNvc3lzdGVtLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBzaWduZWRUeXBlZERhdGE7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluLWFwcC1hY2NvdW50LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/in-app-account.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/web-connector.js":
/*!********************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/web-connector.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InAppWebConnector: function() { return /* binding */ InAppWebConnector; }\n/* harmony export */ });\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n/* harmony import */ var _utils_storage_webStorage_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../utils/storage/webStorage.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/storage/webStorage.js\");\n/* harmony import */ var _core_authentication_passkeys_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/authentication/passkeys.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/passkeys.js\");\n/* harmony import */ var _core_authentication_siwe_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/authentication/siwe.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/siwe.js\");\n/* harmony import */ var _core_authentication_types_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/authentication/types.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/types.js\");\n/* harmony import */ var _utils_iFrameCommunication_InAppWalletIframeCommunicator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/iFrameCommunication/InAppWalletIframeCommunicator.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/InAppWalletIframeCommunicator.js\");\n/* harmony import */ var _auth_iframe_auth_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./auth/iframe-auth.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/iframe-auth.js\");\n/* harmony import */ var _auth_oauth_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./auth/oauth.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/oauth.js\");\n/* harmony import */ var _auth_otp_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./auth/otp.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/otp.js\");\n/* harmony import */ var _in_app_account_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./in-app-account.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/in-app-account.js\");\n\n\n\n\n\n\n\n\n\n\n/**\n * @internal\n */\nclass InAppWebConnector {\n    isClientIdLegacyPaper(clientId) {\n        if (clientId.indexOf(\"-\") > 0 && clientId.length === 36) {\n            return true;\n        }\n        return false;\n    }\n    /**\n     * @example\n     * `const thirdwebInAppWallet = new InAppWalletSdk({ clientId: \"\", chain: \"Goerli\" });`\n     * @internal\n     */\n    constructor({ client, onAuthSuccess, ecosystem, passkeyDomain, }) {\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"querier\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"wallet\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        /**\n         * Used to manage the Auth state of the user.\n         */\n        Object.defineProperty(this, \"auth\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"passkeyDomain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        if (this.isClientIdLegacyPaper(client.clientId)) {\n            throw new Error(\"You are using a legacy clientId. Please use the clientId found on the thirdweb dashboard settings page\");\n        }\n        const baseUrl = (0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_0__.getThirdwebBaseUrl)(\"inAppWallet\");\n        this.client = client;\n        this.passkeyDomain = passkeyDomain;\n        this.querier = new _utils_iFrameCommunication_InAppWalletIframeCommunicator_js__WEBPACK_IMPORTED_MODULE_1__.InAppWalletIframeCommunicator({\n            clientId: client.clientId,\n            ecosystem,\n            baseUrl,\n        });\n        this.wallet = new _in_app_account_js__WEBPACK_IMPORTED_MODULE_2__.IFrameWallet({\n            client,\n            ecosystem,\n            querier: this.querier,\n        });\n        this.auth = new _auth_iframe_auth_js__WEBPACK_IMPORTED_MODULE_3__.Auth({\n            client,\n            querier: this.querier,\n            baseUrl,\n            ecosystem,\n            onAuthSuccess: async (authResult) => {\n                onAuthSuccess?.(authResult);\n                await this.wallet.postWalletSetUp({\n                    ...authResult.walletDetails,\n                    walletUserId: authResult.storedToken.authDetails.userWalletId,\n                });\n                await this.querier.call({\n                    procedureName: \"initIframe\",\n                    params: {\n                        partnerId: ecosystem?.partnerId,\n                        ecosystemId: ecosystem?.id,\n                        deviceShareStored: authResult.walletDetails.deviceShareStored,\n                        clientId: this.client.clientId,\n                        walletUserId: authResult.storedToken.authDetails.userWalletId,\n                        authCookie: authResult.storedToken.cookieString,\n                    },\n                });\n                return {\n                    user: {\n                        status: _core_authentication_types_js__WEBPACK_IMPORTED_MODULE_4__.UserWalletStatus.LOGGED_IN_WALLET_INITIALIZED,\n                        authDetails: authResult.storedToken.authDetails,\n                        account: await this.wallet.getAccount(),\n                        walletAddress: authResult.walletDetails.walletAddress,\n                    },\n                };\n            },\n        });\n    }\n    /**\n     * Gets the user if they're logged in\n     * @example\n     * ```js\n     *  const user = await thirdwebInAppWallet.getUser();\n     *  switch (user.status) {\n     *     case UserWalletStatus.LOGGED_OUT: {\n     *       // User is logged out, call one of the auth methods on thirdwebInAppWallet.auth to authenticate the user\n     *       break;\n     *     }\n     *     case UserWalletStatus.LOGGED_IN_WALLET_INITIALIZED: {\n     *       // user is logged in and wallet is all set up.\n     *       // You have access to:\n     *       user.status;\n     *       user.authDetails;\n     *       user.walletAddress;\n     *       user.wallet;\n     *       break;\n     *     }\n     * }\n     * ```\n     * @returns GetUser - an object to containing various information on the user statuses\n     */\n    async getUser() {\n        return this.wallet.getUserWalletStatus();\n    }\n    getAccount() {\n        return this.wallet.getAccount();\n    }\n    async preAuthenticate(args) {\n        return (0,_auth_otp_js__WEBPACK_IMPORTED_MODULE_5__.sendOtp)({\n            ...args,\n            client: this.wallet.client,\n            ecosystem: this.wallet.ecosystem,\n        });\n    }\n    authenticateWithRedirect(strategy, mode, redirectUrl) {\n        (0,_auth_oauth_js__WEBPACK_IMPORTED_MODULE_6__.loginWithOauthRedirect)({\n            authOption: strategy,\n            client: this.wallet.client,\n            ecosystem: this.wallet.ecosystem,\n            redirectUrl,\n            mode,\n        });\n    }\n    async loginWithAuthToken(authResult) {\n        return this.auth.loginWithAuthToken(authResult);\n    }\n    /**\n     * Authenticates the user and returns the auth token, but does not instantiate their wallet\n     */\n    async authenticate(args) {\n        const strategy = args.strategy;\n        switch (strategy) {\n            case \"email\":\n                return (0,_auth_otp_js__WEBPACK_IMPORTED_MODULE_5__.verifyOtp)({\n                    ...args,\n                    client: this.wallet.client,\n                    ecosystem: this.wallet.ecosystem,\n                });\n            case \"phone\":\n                return (0,_auth_otp_js__WEBPACK_IMPORTED_MODULE_5__.verifyOtp)({\n                    ...args,\n                    client: this.wallet.client,\n                    ecosystem: this.wallet.ecosystem,\n                });\n            case \"jwt\":\n                return this.auth.authenticateWithCustomJwt({\n                    jwt: args.jwt,\n                    encryptionKey: args.encryptionKey,\n                });\n            case \"passkey\": {\n                return this.passkeyAuth(args);\n            }\n            case \"auth_endpoint\": {\n                return this.auth.authenticateWithCustomAuthEndpoint({\n                    payload: args.payload,\n                    encryptionKey: args.encryptionKey,\n                });\n            }\n            case \"iframe_email_verification\": {\n                return this.auth.authenticateWithIframe({\n                    email: args.email,\n                });\n            }\n            case \"iframe\": {\n                return this.auth.authenticateWithModal();\n            }\n            case \"apple\":\n            case \"facebook\":\n            case \"google\":\n            case \"telegram\":\n            case \"farcaster\":\n            case \"discord\": {\n                return (0,_auth_oauth_js__WEBPACK_IMPORTED_MODULE_6__.loginWithOauth)({\n                    authOption: strategy,\n                    client: this.wallet.client,\n                    ecosystem: this.wallet.ecosystem,\n                    closeOpenedWindow: args.closeOpenedWindow,\n                    openedWindow: args.openedWindow,\n                });\n            }\n            case \"wallet\": {\n                return (0,_core_authentication_siwe_js__WEBPACK_IMPORTED_MODULE_7__.siweAuthenticate)({\n                    ecosystem: this.wallet.ecosystem,\n                    client: this.wallet.client,\n                    wallet: args.wallet,\n                    chain: args.chain,\n                });\n            }\n        }\n    }\n    /**\n     * Authenticates the user then instantiates their wallet using the resulting auth token\n     */\n    async connect(args) {\n        const strategy = args.strategy;\n        switch (strategy) {\n            case \"jwt\": {\n                return this.auth.loginWithCustomJwt({\n                    jwt: args.jwt,\n                    encryptionKey: args.encryptionKey,\n                });\n            }\n            case \"auth_endpoint\": {\n                return this.auth.loginWithCustomAuthEndpoint({\n                    payload: args.payload,\n                    encryptionKey: args.encryptionKey,\n                });\n            }\n            case \"iframe_email_verification\": {\n                return this.auth.loginWithIframe({\n                    email: args.email,\n                });\n            }\n            case \"iframe\": {\n                return this.auth.loginWithModal();\n            }\n            case \"passkey\": {\n                const authToken = await this.passkeyAuth(args);\n                return this.loginWithAuthToken(authToken);\n            }\n            case \"phone\":\n            case \"email\":\n            case \"wallet\":\n            case \"apple\":\n            case \"facebook\":\n            case \"google\":\n            case \"farcaster\":\n            case \"telegram\":\n            case \"discord\": {\n                const authToken = await this.authenticate(args);\n                return this.auth.loginWithAuthToken(authToken);\n            }\n            default:\n                assertUnreachable(strategy);\n        }\n    }\n    async logout() {\n        return await this.auth.logout();\n    }\n    async passkeyAuth(args) {\n        const { PasskeyWebClient } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_thirdweb_dist_esm_wallets_in-app_web_lib_auth_passkeys_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./auth/passkeys.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/passkeys.js\"));\n        const passkeyClient = new PasskeyWebClient();\n        const storage = _utils_storage_webStorage_js__WEBPACK_IMPORTED_MODULE_8__.webLocalStorage;\n        if (args.type === \"sign-up\") {\n            return (0,_core_authentication_passkeys_js__WEBPACK_IMPORTED_MODULE_9__.registerPasskey)({\n                client: this.wallet.client,\n                ecosystem: this.wallet.ecosystem,\n                username: args.passkeyName,\n                passkeyClient,\n                storage,\n                rp: {\n                    id: this.passkeyDomain ?? window.location.hostname,\n                    name: this.passkeyDomain ?? window.document.title,\n                },\n            });\n        }\n        return (0,_core_authentication_passkeys_js__WEBPACK_IMPORTED_MODULE_9__.loginWithPasskey)({\n            client: this.wallet.client,\n            ecosystem: this.wallet.ecosystem,\n            passkeyClient,\n            storage,\n            rp: {\n                id: this.passkeyDomain ?? window.location.hostname,\n                name: this.passkeyDomain ?? window.document.title,\n            },\n        });\n    }\n}\nfunction assertUnreachable(x, message) {\n    throw new Error(message ?? `Invalid param: ${x}`);\n}\n//# sourceMappingURL=web-connector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL3dlYi1jb25uZWN0b3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBa0U7QUFDUTtBQUNpQjtBQUN0QjtBQUNFO0FBQ3VDO0FBQ2pFO0FBQzRCO0FBQ3RCO0FBQ0E7QUFDbkQ7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELCtCQUErQixFQUFFO0FBQzFGO0FBQ0E7QUFDQSxrQkFBa0Isa0RBQWtEO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscUVBQWtCO0FBQzFDO0FBQ0E7QUFDQSwyQkFBMkIsc0hBQTZCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwwQkFBMEIsNERBQVk7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHdCQUF3QixzREFBSTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsZ0NBQWdDLDJFQUFnQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxREFBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEsc0VBQXNCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix1REFBUztBQUNoQztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSx1QkFBdUIsdURBQVM7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDhEQUFjO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLHVCQUF1Qiw4RUFBZ0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtQkFBbUIsUUFBUSxnVEFBNEI7QUFDdkU7QUFDQSx3QkFBd0IseUVBQWU7QUFDdkM7QUFDQSxtQkFBbUIsaUZBQWU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQSxlQUFlLGtGQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsaURBQWlELEVBQUU7QUFDbkQ7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vd2FsbGV0cy9pbi1hcHAvd2ViL2xpYi93ZWItY29ubmVjdG9yLmpzPzY5MDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0VGhpcmR3ZWJCYXNlVXJsIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2RvbWFpbnMuanNcIjtcbmltcG9ydCB7IHdlYkxvY2FsU3RvcmFnZSB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9zdG9yYWdlL3dlYlN0b3JhZ2UuanNcIjtcbmltcG9ydCB7IGxvZ2luV2l0aFBhc3NrZXksIHJlZ2lzdGVyUGFzc2tleSwgfSBmcm9tIFwiLi4vLi4vY29yZS9hdXRoZW50aWNhdGlvbi9wYXNza2V5cy5qc1wiO1xuaW1wb3J0IHsgc2l3ZUF1dGhlbnRpY2F0ZSB9IGZyb20gXCIuLi8uLi9jb3JlL2F1dGhlbnRpY2F0aW9uL3Npd2UuanNcIjtcbmltcG9ydCB7IFVzZXJXYWxsZXRTdGF0dXMsIH0gZnJvbSBcIi4uLy4uL2NvcmUvYXV0aGVudGljYXRpb24vdHlwZXMuanNcIjtcbmltcG9ydCB7IEluQXBwV2FsbGV0SWZyYW1lQ29tbXVuaWNhdG9yIH0gZnJvbSBcIi4uL3V0aWxzL2lGcmFtZUNvbW11bmljYXRpb24vSW5BcHBXYWxsZXRJZnJhbWVDb21tdW5pY2F0b3IuanNcIjtcbmltcG9ydCB7IEF1dGggfSBmcm9tIFwiLi9hdXRoL2lmcmFtZS1hdXRoLmpzXCI7XG5pbXBvcnQgeyBsb2dpbldpdGhPYXV0aCwgbG9naW5XaXRoT2F1dGhSZWRpcmVjdCB9IGZyb20gXCIuL2F1dGgvb2F1dGguanNcIjtcbmltcG9ydCB7IHNlbmRPdHAsIHZlcmlmeU90cCB9IGZyb20gXCIuL2F1dGgvb3RwLmpzXCI7XG5pbXBvcnQgeyBJRnJhbWVXYWxsZXQgfSBmcm9tIFwiLi9pbi1hcHAtYWNjb3VudC5qc1wiO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIEluQXBwV2ViQ29ubmVjdG9yIHtcbiAgICBpc0NsaWVudElkTGVnYWN5UGFwZXIoY2xpZW50SWQpIHtcbiAgICAgICAgaWYgKGNsaWVudElkLmluZGV4T2YoXCItXCIpID4gMCAmJiBjbGllbnRJZC5sZW5ndGggPT09IDM2KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGNvbnN0IHRoaXJkd2ViSW5BcHBXYWxsZXQgPSBuZXcgSW5BcHBXYWxsZXRTZGsoeyBjbGllbnRJZDogXCJcIiwgY2hhaW46IFwiR29lcmxpXCIgfSk7YFxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHsgY2xpZW50LCBvbkF1dGhTdWNjZXNzLCBlY29zeXN0ZW0sIHBhc3NrZXlEb21haW4sIH0pIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInF1ZXJpZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwid2FsbGV0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIG1hbmFnZSB0aGUgQXV0aCBzdGF0ZSBvZiB0aGUgdXNlci5cbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF1dGhcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGFzc2tleURvbWFpblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGhpcy5pc0NsaWVudElkTGVnYWN5UGFwZXIoY2xpZW50LmNsaWVudElkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSB1c2luZyBhIGxlZ2FjeSBjbGllbnRJZC4gUGxlYXNlIHVzZSB0aGUgY2xpZW50SWQgZm91bmQgb24gdGhlIHRoaXJkd2ViIGRhc2hib2FyZCBzZXR0aW5ncyBwYWdlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJhc2VVcmwgPSBnZXRUaGlyZHdlYkJhc2VVcmwoXCJpbkFwcFdhbGxldFwiKTtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgICAgIHRoaXMucGFzc2tleURvbWFpbiA9IHBhc3NrZXlEb21haW47XG4gICAgICAgIHRoaXMucXVlcmllciA9IG5ldyBJbkFwcFdhbGxldElmcmFtZUNvbW11bmljYXRvcih7XG4gICAgICAgICAgICBjbGllbnRJZDogY2xpZW50LmNsaWVudElkLFxuICAgICAgICAgICAgZWNvc3lzdGVtLFxuICAgICAgICAgICAgYmFzZVVybCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud2FsbGV0ID0gbmV3IElGcmFtZVdhbGxldCh7XG4gICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICBlY29zeXN0ZW0sXG4gICAgICAgICAgICBxdWVyaWVyOiB0aGlzLnF1ZXJpZXIsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmF1dGggPSBuZXcgQXV0aCh7XG4gICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICBxdWVyaWVyOiB0aGlzLnF1ZXJpZXIsXG4gICAgICAgICAgICBiYXNlVXJsLFxuICAgICAgICAgICAgZWNvc3lzdGVtLFxuICAgICAgICAgICAgb25BdXRoU3VjY2VzczogYXN5bmMgKGF1dGhSZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBvbkF1dGhTdWNjZXNzPy4oYXV0aFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53YWxsZXQucG9zdFdhbGxldFNldFVwKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYXV0aFJlc3VsdC53YWxsZXREZXRhaWxzLFxuICAgICAgICAgICAgICAgICAgICB3YWxsZXRVc2VySWQ6IGF1dGhSZXN1bHQuc3RvcmVkVG9rZW4uYXV0aERldGFpbHMudXNlcldhbGxldElkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucXVlcmllci5jYWxsKHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJpbml0SWZyYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydG5lcklkOiBlY29zeXN0ZW0/LnBhcnRuZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVjb3N5c3RlbUlkOiBlY29zeXN0ZW0/LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlU2hhcmVTdG9yZWQ6IGF1dGhSZXN1bHQud2FsbGV0RGV0YWlscy5kZXZpY2VTaGFyZVN0b3JlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudElkOiB0aGlzLmNsaWVudC5jbGllbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhbGxldFVzZXJJZDogYXV0aFJlc3VsdC5zdG9yZWRUb2tlbi5hdXRoRGV0YWlscy51c2VyV2FsbGV0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRoQ29va2llOiBhdXRoUmVzdWx0LnN0b3JlZFRva2VuLmNvb2tpZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFVzZXJXYWxsZXRTdGF0dXMuTE9HR0VEX0lOX1dBTExFVF9JTklUSUFMSVpFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhEZXRhaWxzOiBhdXRoUmVzdWx0LnN0b3JlZFRva2VuLmF1dGhEZXRhaWxzLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogYXdhaXQgdGhpcy53YWxsZXQuZ2V0QWNjb3VudCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2FsbGV0QWRkcmVzczogYXV0aFJlc3VsdC53YWxsZXREZXRhaWxzLndhbGxldEFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB1c2VyIGlmIHRoZXkncmUgbG9nZ2VkIGluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGBqc1xuICAgICAqICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcmR3ZWJJbkFwcFdhbGxldC5nZXRVc2VyKCk7XG4gICAgICogIHN3aXRjaCAodXNlci5zdGF0dXMpIHtcbiAgICAgKiAgICAgY2FzZSBVc2VyV2FsbGV0U3RhdHVzLkxPR0dFRF9PVVQ6IHtcbiAgICAgKiAgICAgICAvLyBVc2VyIGlzIGxvZ2dlZCBvdXQsIGNhbGwgb25lIG9mIHRoZSBhdXRoIG1ldGhvZHMgb24gdGhpcmR3ZWJJbkFwcFdhbGxldC5hdXRoIHRvIGF1dGhlbnRpY2F0ZSB0aGUgdXNlclxuICAgICAqICAgICAgIGJyZWFrO1xuICAgICAqICAgICB9XG4gICAgICogICAgIGNhc2UgVXNlcldhbGxldFN0YXR1cy5MT0dHRURfSU5fV0FMTEVUX0lOSVRJQUxJWkVEOiB7XG4gICAgICogICAgICAgLy8gdXNlciBpcyBsb2dnZWQgaW4gYW5kIHdhbGxldCBpcyBhbGwgc2V0IHVwLlxuICAgICAqICAgICAgIC8vIFlvdSBoYXZlIGFjY2VzcyB0bzpcbiAgICAgKiAgICAgICB1c2VyLnN0YXR1cztcbiAgICAgKiAgICAgICB1c2VyLmF1dGhEZXRhaWxzO1xuICAgICAqICAgICAgIHVzZXIud2FsbGV0QWRkcmVzcztcbiAgICAgKiAgICAgICB1c2VyLndhbGxldDtcbiAgICAgKiAgICAgICBicmVhaztcbiAgICAgKiAgICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKiBAcmV0dXJucyBHZXRVc2VyIC0gYW4gb2JqZWN0IHRvIGNvbnRhaW5pbmcgdmFyaW91cyBpbmZvcm1hdGlvbiBvbiB0aGUgdXNlciBzdGF0dXNlc1xuICAgICAqL1xuICAgIGFzeW5jIGdldFVzZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndhbGxldC5nZXRVc2VyV2FsbGV0U3RhdHVzKCk7XG4gICAgfVxuICAgIGdldEFjY291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndhbGxldC5nZXRBY2NvdW50KCk7XG4gICAgfVxuICAgIGFzeW5jIHByZUF1dGhlbnRpY2F0ZShhcmdzKSB7XG4gICAgICAgIHJldHVybiBzZW5kT3RwKHtcbiAgICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgICAgICBjbGllbnQ6IHRoaXMud2FsbGV0LmNsaWVudCxcbiAgICAgICAgICAgIGVjb3N5c3RlbTogdGhpcy53YWxsZXQuZWNvc3lzdGVtLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXV0aGVudGljYXRlV2l0aFJlZGlyZWN0KHN0cmF0ZWd5LCBtb2RlLCByZWRpcmVjdFVybCkge1xuICAgICAgICBsb2dpbldpdGhPYXV0aFJlZGlyZWN0KHtcbiAgICAgICAgICAgIGF1dGhPcHRpb246IHN0cmF0ZWd5LFxuICAgICAgICAgICAgY2xpZW50OiB0aGlzLndhbGxldC5jbGllbnQsXG4gICAgICAgICAgICBlY29zeXN0ZW06IHRoaXMud2FsbGV0LmVjb3N5c3RlbSxcbiAgICAgICAgICAgIHJlZGlyZWN0VXJsLFxuICAgICAgICAgICAgbW9kZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGxvZ2luV2l0aEF1dGhUb2tlbihhdXRoUmVzdWx0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1dGgubG9naW5XaXRoQXV0aFRva2VuKGF1dGhSZXN1bHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdXRoZW50aWNhdGVzIHRoZSB1c2VyIGFuZCByZXR1cm5zIHRoZSBhdXRoIHRva2VuLCBidXQgZG9lcyBub3QgaW5zdGFudGlhdGUgdGhlaXIgd2FsbGV0XG4gICAgICovXG4gICAgYXN5bmMgYXV0aGVudGljYXRlKGFyZ3MpIHtcbiAgICAgICAgY29uc3Qgc3RyYXRlZ3kgPSBhcmdzLnN0cmF0ZWd5O1xuICAgICAgICBzd2l0Y2ggKHN0cmF0ZWd5KSB7XG4gICAgICAgICAgICBjYXNlIFwiZW1haWxcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdmVyaWZ5T3RwKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYXJncyxcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50OiB0aGlzLndhbGxldC5jbGllbnQsXG4gICAgICAgICAgICAgICAgICAgIGVjb3N5c3RlbTogdGhpcy53YWxsZXQuZWNvc3lzdGVtLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FzZSBcInBob25lXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZlcmlmeU90cCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudDogdGhpcy53YWxsZXQuY2xpZW50LFxuICAgICAgICAgICAgICAgICAgICBlY29zeXN0ZW06IHRoaXMud2FsbGV0LmVjb3N5c3RlbSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhc2UgXCJqd3RcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRoLmF1dGhlbnRpY2F0ZVdpdGhDdXN0b21Kd3Qoe1xuICAgICAgICAgICAgICAgICAgICBqd3Q6IGFyZ3Muand0LFxuICAgICAgICAgICAgICAgICAgICBlbmNyeXB0aW9uS2V5OiBhcmdzLmVuY3J5cHRpb25LZXksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIFwicGFzc2tleVwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFzc2tleUF1dGgoYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiYXV0aF9lbmRwb2ludFwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0aC5hdXRoZW50aWNhdGVXaXRoQ3VzdG9tQXV0aEVuZHBvaW50KHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogYXJncy5wYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICBlbmNyeXB0aW9uS2V5OiBhcmdzLmVuY3J5cHRpb25LZXksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaWZyYW1lX2VtYWlsX3ZlcmlmaWNhdGlvblwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0aC5hdXRoZW50aWNhdGVXaXRoSWZyYW1lKHtcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGFyZ3MuZW1haWwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaWZyYW1lXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRoLmF1dGhlbnRpY2F0ZVdpdGhNb2RhbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImFwcGxlXCI6XG4gICAgICAgICAgICBjYXNlIFwiZmFjZWJvb2tcIjpcbiAgICAgICAgICAgIGNhc2UgXCJnb29nbGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ0ZWxlZ3JhbVwiOlxuICAgICAgICAgICAgY2FzZSBcImZhcmNhc3RlclwiOlxuICAgICAgICAgICAgY2FzZSBcImRpc2NvcmRcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2dpbldpdGhPYXV0aCh7XG4gICAgICAgICAgICAgICAgICAgIGF1dGhPcHRpb246IHN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICBjbGllbnQ6IHRoaXMud2FsbGV0LmNsaWVudCxcbiAgICAgICAgICAgICAgICAgICAgZWNvc3lzdGVtOiB0aGlzLndhbGxldC5lY29zeXN0ZW0sXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlT3BlbmVkV2luZG93OiBhcmdzLmNsb3NlT3BlbmVkV2luZG93LFxuICAgICAgICAgICAgICAgICAgICBvcGVuZWRXaW5kb3c6IGFyZ3Mub3BlbmVkV2luZG93LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIndhbGxldFwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpd2VBdXRoZW50aWNhdGUoe1xuICAgICAgICAgICAgICAgICAgICBlY29zeXN0ZW06IHRoaXMud2FsbGV0LmVjb3N5c3RlbSxcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50OiB0aGlzLndhbGxldC5jbGllbnQsXG4gICAgICAgICAgICAgICAgICAgIHdhbGxldDogYXJncy53YWxsZXQsXG4gICAgICAgICAgICAgICAgICAgIGNoYWluOiBhcmdzLmNoYWluLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF1dGhlbnRpY2F0ZXMgdGhlIHVzZXIgdGhlbiBpbnN0YW50aWF0ZXMgdGhlaXIgd2FsbGV0IHVzaW5nIHRoZSByZXN1bHRpbmcgYXV0aCB0b2tlblxuICAgICAqL1xuICAgIGFzeW5jIGNvbm5lY3QoYXJncykge1xuICAgICAgICBjb25zdCBzdHJhdGVneSA9IGFyZ3Muc3RyYXRlZ3k7XG4gICAgICAgIHN3aXRjaCAoc3RyYXRlZ3kpIHtcbiAgICAgICAgICAgIGNhc2UgXCJqd3RcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF1dGgubG9naW5XaXRoQ3VzdG9tSnd0KHtcbiAgICAgICAgICAgICAgICAgICAgand0OiBhcmdzLmp3dCxcbiAgICAgICAgICAgICAgICAgICAgZW5jcnlwdGlvbktleTogYXJncy5lbmNyeXB0aW9uS2V5LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImF1dGhfZW5kcG9pbnRcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF1dGgubG9naW5XaXRoQ3VzdG9tQXV0aEVuZHBvaW50KHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogYXJncy5wYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICBlbmNyeXB0aW9uS2V5OiBhcmdzLmVuY3J5cHRpb25LZXksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaWZyYW1lX2VtYWlsX3ZlcmlmaWNhdGlvblwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0aC5sb2dpbldpdGhJZnJhbWUoe1xuICAgICAgICAgICAgICAgICAgICBlbWFpbDogYXJncy5lbWFpbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpZnJhbWVcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF1dGgubG9naW5XaXRoTW9kYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJwYXNza2V5XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdXRoVG9rZW4gPSBhd2FpdCB0aGlzLnBhc3NrZXlBdXRoKGFyZ3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvZ2luV2l0aEF1dGhUb2tlbihhdXRoVG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInBob25lXCI6XG4gICAgICAgICAgICBjYXNlIFwiZW1haWxcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ3YWxsZXRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJhcHBsZVwiOlxuICAgICAgICAgICAgY2FzZSBcImZhY2Vib29rXCI6XG4gICAgICAgICAgICBjYXNlIFwiZ29vZ2xlXCI6XG4gICAgICAgICAgICBjYXNlIFwiZmFyY2FzdGVyXCI6XG4gICAgICAgICAgICBjYXNlIFwidGVsZWdyYW1cIjpcbiAgICAgICAgICAgIGNhc2UgXCJkaXNjb3JkXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdXRoVG9rZW4gPSBhd2FpdCB0aGlzLmF1dGhlbnRpY2F0ZShhcmdzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRoLmxvZ2luV2l0aEF1dGhUb2tlbihhdXRoVG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBhc3NlcnRVbnJlYWNoYWJsZShzdHJhdGVneSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgbG9nb3V0KCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5hdXRoLmxvZ291dCgpO1xuICAgIH1cbiAgICBhc3luYyBwYXNza2V5QXV0aChhcmdzKSB7XG4gICAgICAgIGNvbnN0IHsgUGFzc2tleVdlYkNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KFwiLi9hdXRoL3Bhc3NrZXlzLmpzXCIpO1xuICAgICAgICBjb25zdCBwYXNza2V5Q2xpZW50ID0gbmV3IFBhc3NrZXlXZWJDbGllbnQoKTtcbiAgICAgICAgY29uc3Qgc3RvcmFnZSA9IHdlYkxvY2FsU3RvcmFnZTtcbiAgICAgICAgaWYgKGFyZ3MudHlwZSA9PT0gXCJzaWduLXVwXCIpIHtcbiAgICAgICAgICAgIHJldHVybiByZWdpc3RlclBhc3NrZXkoe1xuICAgICAgICAgICAgICAgIGNsaWVudDogdGhpcy53YWxsZXQuY2xpZW50LFxuICAgICAgICAgICAgICAgIGVjb3N5c3RlbTogdGhpcy53YWxsZXQuZWNvc3lzdGVtLFxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBhcmdzLnBhc3NrZXlOYW1lLFxuICAgICAgICAgICAgICAgIHBhc3NrZXlDbGllbnQsXG4gICAgICAgICAgICAgICAgc3RvcmFnZSxcbiAgICAgICAgICAgICAgICBycDoge1xuICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5wYXNza2V5RG9tYWluID8/IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5wYXNza2V5RG9tYWluID8/IHdpbmRvdy5kb2N1bWVudC50aXRsZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxvZ2luV2l0aFBhc3NrZXkoe1xuICAgICAgICAgICAgY2xpZW50OiB0aGlzLndhbGxldC5jbGllbnQsXG4gICAgICAgICAgICBlY29zeXN0ZW06IHRoaXMud2FsbGV0LmVjb3N5c3RlbSxcbiAgICAgICAgICAgIHBhc3NrZXlDbGllbnQsXG4gICAgICAgICAgICBzdG9yYWdlLFxuICAgICAgICAgICAgcnA6IHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5wYXNza2V5RG9tYWluID8/IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSxcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLnBhc3NrZXlEb21haW4gPz8gd2luZG93LmRvY3VtZW50LnRpdGxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0VW5yZWFjaGFibGUoeCwgbWVzc2FnZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlID8/IGBJbnZhbGlkIHBhcmFtOiAke3h9YCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD13ZWItY29ubmVjdG9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/web-connector.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/IframeCommunicator.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/IframeCommunicator.js ***!
  \***********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IframeCommunicator: function() { return /* binding */ IframeCommunicator; }\n/* harmony export */ });\nfunction sleep(seconds) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, seconds * 1000);\n    });\n}\nconst iframeBaseStyle = {\n    height: \"100%\",\n    width: \"100%\",\n    border: \"none\",\n    backgroundColor: \"transparent\",\n    colorScheme: \"light\",\n    position: \"fixed\",\n    top: \"0px\",\n    right: \"0px\",\n    zIndex: \"2147483646\",\n    display: \"none\",\n    pointerEvents: \"all\",\n};\n// Global var to help track iframe state\nconst isIframeLoaded = new Map();\n/**\n * @internal\n */\n// biome-ignore lint/suspicious/noExplicitAny: TODO: fix later\nclass IframeCommunicator {\n    /**\n     * @internal\n     */\n    constructor({ link, baseUrl, iframeId, container = document.body, onIframeInitialize, }) {\n        Object.defineProperty(this, \"iframe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"POLLING_INTERVAL_SECONDS\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 1.4\n        });\n        Object.defineProperty(this, \"iframeBaseUrl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.iframeBaseUrl = baseUrl;\n        // Creating the IFrame element for communication\n        let iframe = document.getElementById(iframeId);\n        const hrefLink = new URL(link);\n        // TODO (ew) - bring back version tracking\n        // const sdkVersion = process.env.THIRDWEB_EWS_SDK_VERSION;\n        // if (!sdkVersion) {\n        //   throw new Error(\"Missing THIRDWEB_EWS_SDK_VERSION env var\");\n        // }\n        // hrefLink.searchParams.set(\"sdkVersion\", sdkVersion);\n        if (!iframe || iframe.src !== hrefLink.href) {\n            // ! Do not update the hrefLink here or it'll cause multiple re-renders\n            iframe = document.createElement(\"iframe\");\n            const mergedIframeStyles = {\n                ...iframeBaseStyle,\n            };\n            Object.assign(iframe.style, mergedIframeStyles);\n            iframe.setAttribute(\"id\", iframeId);\n            iframe.setAttribute(\"fetchpriority\", \"high\");\n            container.appendChild(iframe);\n            iframe.src = hrefLink.href;\n            // iframe.setAttribute(\"data-version\", sdkVersion);\n            // biome-ignore lint/suspicious/noExplicitAny: TODO: fix later\n            const onIframeLoaded = (event) => {\n                if (event.data.eventType === \"ewsIframeLoaded\") {\n                    window.removeEventListener(\"message\", onIframeLoaded);\n                    if (!iframe) {\n                        console.warn(\"thirdweb iFrame not found\");\n                        return;\n                    }\n                    this.onIframeLoadHandler(iframe, onIframeInitialize)();\n                }\n            };\n            window.addEventListener(\"message\", onIframeLoaded);\n        }\n        this.iframe = iframe;\n    }\n    // biome-ignore lint/suspicious/noExplicitAny: TODO: fix later\n    async onIframeLoadedInitVariables() {\n        return {};\n    }\n    /**\n     * @internal\n     */\n    onIframeLoadHandler(iframe, onIframeInitialize) {\n        return async () => {\n            const channel = new MessageChannel();\n            const promise = new Promise((res, rej) => {\n                // biome-ignore lint/suspicious/noExplicitAny: TODO: fix later\n                channel.port1.onmessage = (event) => {\n                    const { data } = event;\n                    channel.port1.close();\n                    if (!data.success) {\n                        rej(new Error(data.error));\n                    }\n                    isIframeLoaded.set(iframe.src, true);\n                    if (onIframeInitialize) {\n                        onIframeInitialize();\n                    }\n                    res(true);\n                };\n            });\n            const INIT_IFRAME_EVENT = \"initIframe\";\n            iframe?.contentWindow?.postMessage(\n            // ? We initialise the iframe with a bunch\n            // of useful information so that we don't have to pass it\n            // through in each of the future call. This would be where we do it.\n            {\n                eventType: INIT_IFRAME_EVENT,\n                data: await this.onIframeLoadedInitVariables(),\n            }, this.iframeBaseUrl, [channel.port2]);\n            await promise;\n        };\n    }\n    /**\n     * @internal\n     */\n    async call({ procedureName, params, showIframe = false, }) {\n        while (!isIframeLoaded.get(this.iframe.src)) {\n            await sleep(this.POLLING_INTERVAL_SECONDS);\n        }\n        if (showIframe) {\n            this.iframe.style.display = \"block\";\n            // magic number to let the display render before performing the animation of the modal in\n            await sleep(0.005);\n        }\n        const channel = new MessageChannel();\n        const promise = new Promise((res, rej) => {\n            // biome-ignore lint/suspicious/noExplicitAny: TODO: fix later\n            channel.port1.onmessage = async (event) => {\n                const { data } = event;\n                channel.port1.close();\n                if (showIframe) {\n                    // magic number to let modal fade out before hiding it\n                    await sleep(0.1);\n                    this.iframe.style.display = \"none\";\n                }\n                if (!data.success) {\n                    rej(new Error(data.error));\n                }\n                else {\n                    res(data.data);\n                }\n            };\n        });\n        this.iframe.contentWindow?.postMessage({ eventType: procedureName, data: params }, this.iframeBaseUrl, [channel.port2]);\n        return promise;\n    }\n    /**\n     * This has to be called by any iframe that will be removed from the DOM.\n     * Use to make sure that we reset the global loaded state of the particular iframe.src\n     * @internal\n     */\n    destroy() {\n        isIframeLoaded.delete(this.iframe.src);\n    }\n}\n//# sourceMappingURL=IframeCommunicator.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvdXRpbHMvaUZyYW1lQ29tbXVuaWNhdGlvbi9JZnJhbWVDb21tdW5pY2F0b3IuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IseUVBQXlFO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsT0FBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw0Q0FBNEM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsaURBQWlELHdDQUF3QztBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3RoaXJkd2ViL2Rpc3QvZXNtL3dhbGxldHMvaW4tYXBwL3dlYi91dGlscy9pRnJhbWVDb21tdW5pY2F0aW9uL0lmcmFtZUNvbW11bmljYXRvci5qcz82YzYxIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHNsZWVwKHNlY29uZHMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgc2V0VGltZW91dChyZXNvbHZlLCBzZWNvbmRzICogMTAwMCk7XG4gICAgfSk7XG59XG5jb25zdCBpZnJhbWVCYXNlU3R5bGUgPSB7XG4gICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnRcIixcbiAgICBjb2xvclNjaGVtZTogXCJsaWdodFwiLFxuICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgdG9wOiBcIjBweFwiLFxuICAgIHJpZ2h0OiBcIjBweFwiLFxuICAgIHpJbmRleDogXCIyMTQ3NDgzNjQ2XCIsXG4gICAgZGlzcGxheTogXCJub25lXCIsXG4gICAgcG9pbnRlckV2ZW50czogXCJhbGxcIixcbn07XG4vLyBHbG9iYWwgdmFyIHRvIGhlbHAgdHJhY2sgaWZyYW1lIHN0YXRlXG5jb25zdCBpc0lmcmFtZUxvYWRlZCA9IG5ldyBNYXAoKTtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbi8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9FeHBsaWNpdEFueTogVE9ETzogZml4IGxhdGVyXG5leHBvcnQgY2xhc3MgSWZyYW1lQ29tbXVuaWNhdG9yIHtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih7IGxpbmssIGJhc2VVcmwsIGlmcmFtZUlkLCBjb250YWluZXIgPSBkb2N1bWVudC5ib2R5LCBvbklmcmFtZUluaXRpYWxpemUsIH0pIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaWZyYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIlBPTExJTkdfSU5URVJWQUxfU0VDT05EU1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMS40XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpZnJhbWVCYXNlVXJsXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaWZyYW1lQmFzZVVybCA9IGJhc2VVcmw7XG4gICAgICAgIC8vIENyZWF0aW5nIHRoZSBJRnJhbWUgZWxlbWVudCBmb3IgY29tbXVuaWNhdGlvblxuICAgICAgICBsZXQgaWZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWZyYW1lSWQpO1xuICAgICAgICBjb25zdCBocmVmTGluayA9IG5ldyBVUkwobGluayk7XG4gICAgICAgIC8vIFRPRE8gKGV3KSAtIGJyaW5nIGJhY2sgdmVyc2lvbiB0cmFja2luZ1xuICAgICAgICAvLyBjb25zdCBzZGtWZXJzaW9uID0gcHJvY2Vzcy5lbnYuVEhJUkRXRUJfRVdTX1NES19WRVJTSU9OO1xuICAgICAgICAvLyBpZiAoIXNka1ZlcnNpb24pIHtcbiAgICAgICAgLy8gICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIFRISVJEV0VCX0VXU19TREtfVkVSU0lPTiBlbnYgdmFyXCIpO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vIGhyZWZMaW5rLnNlYXJjaFBhcmFtcy5zZXQoXCJzZGtWZXJzaW9uXCIsIHNka1ZlcnNpb24pO1xuICAgICAgICBpZiAoIWlmcmFtZSB8fCBpZnJhbWUuc3JjICE9PSBocmVmTGluay5ocmVmKSB7XG4gICAgICAgICAgICAvLyAhIERvIG5vdCB1cGRhdGUgdGhlIGhyZWZMaW5rIGhlcmUgb3IgaXQnbGwgY2F1c2UgbXVsdGlwbGUgcmUtcmVuZGVyc1xuICAgICAgICAgICAgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZElmcmFtZVN0eWxlcyA9IHtcbiAgICAgICAgICAgICAgICAuLi5pZnJhbWVCYXNlU3R5bGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihpZnJhbWUuc3R5bGUsIG1lcmdlZElmcmFtZVN0eWxlcyk7XG4gICAgICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKFwiaWRcIiwgaWZyYW1lSWQpO1xuICAgICAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcImZldGNocHJpb3JpdHlcIiwgXCJoaWdoXCIpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgICAgICAgICBpZnJhbWUuc3JjID0gaHJlZkxpbmsuaHJlZjtcbiAgICAgICAgICAgIC8vIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZlcnNpb25cIiwgc2RrVmVyc2lvbik7XG4gICAgICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vRXhwbGljaXRBbnk6IFRPRE86IGZpeCBsYXRlclxuICAgICAgICAgICAgY29uc3Qgb25JZnJhbWVMb2FkZWQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS5ldmVudFR5cGUgPT09IFwiZXdzSWZyYW1lTG9hZGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uSWZyYW1lTG9hZGVkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpZnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcInRoaXJkd2ViIGlGcmFtZSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbklmcmFtZUxvYWRIYW5kbGVyKGlmcmFtZSwgb25JZnJhbWVJbml0aWFsaXplKSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgb25JZnJhbWVMb2FkZWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaWZyYW1lID0gaWZyYW1lO1xuICAgIH1cbiAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vRXhwbGljaXRBbnk6IFRPRE86IGZpeCBsYXRlclxuICAgIGFzeW5jIG9uSWZyYW1lTG9hZGVkSW5pdFZhcmlhYmxlcygpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBvbklmcmFtZUxvYWRIYW5kbGVyKGlmcmFtZSwgb25JZnJhbWVJbml0aWFsaXplKSB7XG4gICAgICAgIHJldHVybiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0V4cGxpY2l0QW55OiBUT0RPOiBmaXggbGF0ZXJcbiAgICAgICAgICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGV2ZW50O1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsLnBvcnQxLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWoobmV3IEVycm9yKGRhdGEuZXJyb3IpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpc0lmcmFtZUxvYWRlZC5zZXQoaWZyYW1lLnNyYywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbklmcmFtZUluaXRpYWxpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uSWZyYW1lSW5pdGlhbGl6ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlcyh0cnVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBJTklUX0lGUkFNRV9FVkVOVCA9IFwiaW5pdElmcmFtZVwiO1xuICAgICAgICAgICAgaWZyYW1lPy5jb250ZW50V2luZG93Py5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgIC8vID8gV2UgaW5pdGlhbGlzZSB0aGUgaWZyYW1lIHdpdGggYSBidW5jaFxuICAgICAgICAgICAgLy8gb2YgdXNlZnVsIGluZm9ybWF0aW9uIHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byBwYXNzIGl0XG4gICAgICAgICAgICAvLyB0aHJvdWdoIGluIGVhY2ggb2YgdGhlIGZ1dHVyZSBjYWxsLiBUaGlzIHdvdWxkIGJlIHdoZXJlIHdlIGRvIGl0LlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogSU5JVF9JRlJBTUVfRVZFTlQsXG4gICAgICAgICAgICAgICAgZGF0YTogYXdhaXQgdGhpcy5vbklmcmFtZUxvYWRlZEluaXRWYXJpYWJsZXMoKSxcbiAgICAgICAgICAgIH0sIHRoaXMuaWZyYW1lQmFzZVVybCwgW2NoYW5uZWwucG9ydDJdKTtcbiAgICAgICAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jIGNhbGwoeyBwcm9jZWR1cmVOYW1lLCBwYXJhbXMsIHNob3dJZnJhbWUgPSBmYWxzZSwgfSkge1xuICAgICAgICB3aGlsZSAoIWlzSWZyYW1lTG9hZGVkLmdldCh0aGlzLmlmcmFtZS5zcmMpKSB7XG4gICAgICAgICAgICBhd2FpdCBzbGVlcCh0aGlzLlBPTExJTkdfSU5URVJWQUxfU0VDT05EUyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3dJZnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMuaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAvLyBtYWdpYyBudW1iZXIgdG8gbGV0IHRoZSBkaXNwbGF5IHJlbmRlciBiZWZvcmUgcGVyZm9ybWluZyB0aGUgYW5pbWF0aW9uIG9mIHRoZSBtb2RhbCBpblxuICAgICAgICAgICAgYXdhaXQgc2xlZXAoMC4wMDUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgICAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0V4cGxpY2l0QW55OiBUT0RPOiBmaXggbGF0ZXJcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBldmVudDtcbiAgICAgICAgICAgICAgICBjaGFubmVsLnBvcnQxLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNob3dJZnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFnaWMgbnVtYmVyIHRvIGxldCBtb2RhbCBmYWRlIG91dCBiZWZvcmUgaGlkaW5nIGl0XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNsZWVwKDAuMSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqKG5ldyBFcnJvcihkYXRhLmVycm9yKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXMoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pZnJhbWUuY29udGVudFdpbmRvdz8ucG9zdE1lc3NhZ2UoeyBldmVudFR5cGU6IHByb2NlZHVyZU5hbWUsIGRhdGE6IHBhcmFtcyB9LCB0aGlzLmlmcmFtZUJhc2VVcmwsIFtjaGFubmVsLnBvcnQyXSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGhhcyB0byBiZSBjYWxsZWQgYnkgYW55IGlmcmFtZSB0aGF0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICogVXNlIHRvIG1ha2Ugc3VyZSB0aGF0IHdlIHJlc2V0IHRoZSBnbG9iYWwgbG9hZGVkIHN0YXRlIG9mIHRoZSBwYXJ0aWN1bGFyIGlmcmFtZS5zcmNcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpc0lmcmFtZUxvYWRlZC5kZWxldGUodGhpcy5pZnJhbWUuc3JjKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JZnJhbWVDb21tdW5pY2F0b3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/IframeCommunicator.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/InAppWalletIframeCommunicator.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/InAppWalletIframeCommunicator.js ***!
  \**********************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IN_APP_WALLET_IFRAME_ID: function() { return /* binding */ IN_APP_WALLET_IFRAME_ID; },\n/* harmony export */   InAppWalletIframeCommunicator: function() { return /* binding */ InAppWalletIframeCommunicator; },\n/* harmony export */   createInAppWalletIframeLink: function() { return /* binding */ createInAppWalletIframeLink; }\n/* harmony export */ });\n/* harmony import */ var _utils_storage_webStorage_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../utils/storage/webStorage.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/storage/webStorage.js\");\n/* harmony import */ var _core_authentication_client_scoped_storage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/authentication/client-scoped-storage.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/client-scoped-storage.js\");\n/* harmony import */ var _core_constants_settings_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/constants/settings.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/constants/settings.js\");\n/* harmony import */ var _IframeCommunicator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./IframeCommunicator.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/IframeCommunicator.js\");\n\n\n\n\n/**\n * @internal\n */\nclass InAppWalletIframeCommunicator extends _IframeCommunicator_js__WEBPACK_IMPORTED_MODULE_0__.IframeCommunicator {\n    /**\n     * @internal\n     */\n    constructor({ clientId, baseUrl, ecosystem, }) {\n        super({\n            iframeId: IN_APP_WALLET_IFRAME_ID + (ecosystem?.id || \"\"),\n            link: createInAppWalletIframeLink({\n                clientId,\n                path: _core_constants_settings_js__WEBPACK_IMPORTED_MODULE_1__.IN_APP_WALLET_PATH,\n                ecosystem,\n                baseUrl,\n            }).href,\n            baseUrl,\n            container: document.body,\n        });\n        Object.defineProperty(this, \"clientId\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"ecosystem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.clientId = clientId;\n        this.ecosystem = ecosystem;\n    }\n    /**\n     * @internal\n     */\n    async onIframeLoadedInitVariables() {\n        const localStorage = new _core_authentication_client_scoped_storage_js__WEBPACK_IMPORTED_MODULE_2__.ClientScopedStorage({\n            storage: _utils_storage_webStorage_js__WEBPACK_IMPORTED_MODULE_3__.webLocalStorage,\n            clientId: this.clientId,\n            ecosystemId: this.ecosystem?.id,\n        });\n        return {\n            authCookie: await localStorage.getAuthCookie(),\n            deviceShareStored: await localStorage.getDeviceShare(),\n            walletUserId: await localStorage.getWalletUserId(),\n            clientId: this.clientId,\n            partnerId: this.ecosystem?.partnerId,\n            ecosystemId: this.ecosystem?.id,\n        };\n    }\n}\n// This is the URL and ID tag of the iFrame that we communicate with\n/**\n * @internal\n */\nfunction createInAppWalletIframeLink({ clientId, baseUrl, path, ecosystem, queryParams, }) {\n    const inAppWalletUrl = new URL(`${path}`, baseUrl);\n    if (queryParams) {\n        for (const queryKey of Object.keys(queryParams)) {\n            inAppWalletUrl.searchParams.set(queryKey, queryParams[queryKey]?.toString() || \"\");\n        }\n    }\n    inAppWalletUrl.searchParams.set(\"clientId\", clientId);\n    if (ecosystem?.partnerId !== undefined) {\n        inAppWalletUrl.searchParams.set(\"partnerId\", ecosystem.partnerId);\n    }\n    if (ecosystem?.id !== undefined) {\n        inAppWalletUrl.searchParams.set(\"ecosystemId\", ecosystem.id);\n    }\n    return inAppWalletUrl;\n}\nconst IN_APP_WALLET_IFRAME_ID = \"thirdweb-in-app-wallet-iframe\";\n//# sourceMappingURL=InAppWalletIframeCommunicator.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvdXRpbHMvaUZyYW1lQ29tbXVuaWNhdGlvbi9JbkFwcFdhbGxldElmcmFtZUNvbW11bmljYXRvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTZFO0FBQ2U7QUFDbkI7QUFDWjtBQUM3RDtBQUNBO0FBQ0E7QUFDTyw0Q0FBNEMsc0VBQWtCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwrQkFBK0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMkVBQWtCO0FBQ3hDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsOEZBQW1CO0FBQ3BELHFCQUFxQix5RUFBZTtBQUNwQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyx1Q0FBdUMsa0RBQWtEO0FBQ2hHLHNDQUFzQyxLQUFLO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvdXRpbHMvaUZyYW1lQ29tbXVuaWNhdGlvbi9JbkFwcFdhbGxldElmcmFtZUNvbW11bmljYXRvci5qcz82MDEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHdlYkxvY2FsU3RvcmFnZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi91dGlscy9zdG9yYWdlL3dlYlN0b3JhZ2UuanNcIjtcbmltcG9ydCB7IENsaWVudFNjb3BlZFN0b3JhZ2UgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9hdXRoZW50aWNhdGlvbi9jbGllbnQtc2NvcGVkLXN0b3JhZ2UuanNcIjtcbmltcG9ydCB7IElOX0FQUF9XQUxMRVRfUEFUSCB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2NvbnN0YW50cy9zZXR0aW5ncy5qc1wiO1xuaW1wb3J0IHsgSWZyYW1lQ29tbXVuaWNhdG9yIH0gZnJvbSBcIi4vSWZyYW1lQ29tbXVuaWNhdG9yLmpzXCI7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgSW5BcHBXYWxsZXRJZnJhbWVDb21tdW5pY2F0b3IgZXh0ZW5kcyBJZnJhbWVDb21tdW5pY2F0b3Ige1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHsgY2xpZW50SWQsIGJhc2VVcmwsIGVjb3N5c3RlbSwgfSkge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBpZnJhbWVJZDogSU5fQVBQX1dBTExFVF9JRlJBTUVfSUQgKyAoZWNvc3lzdGVtPy5pZCB8fCBcIlwiKSxcbiAgICAgICAgICAgIGxpbms6IGNyZWF0ZUluQXBwV2FsbGV0SWZyYW1lTGluayh7XG4gICAgICAgICAgICAgICAgY2xpZW50SWQsXG4gICAgICAgICAgICAgICAgcGF0aDogSU5fQVBQX1dBTExFVF9QQVRILFxuICAgICAgICAgICAgICAgIGVjb3N5c3RlbSxcbiAgICAgICAgICAgICAgICBiYXNlVXJsLFxuICAgICAgICAgICAgfSkuaHJlZixcbiAgICAgICAgICAgIGJhc2VVcmwsXG4gICAgICAgICAgICBjb250YWluZXI6IGRvY3VtZW50LmJvZHksXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRJZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJlY29zeXN0ZW1cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jbGllbnRJZCA9IGNsaWVudElkO1xuICAgICAgICB0aGlzLmVjb3N5c3RlbSA9IGVjb3N5c3RlbTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgb25JZnJhbWVMb2FkZWRJbml0VmFyaWFibGVzKCkge1xuICAgICAgICBjb25zdCBsb2NhbFN0b3JhZ2UgPSBuZXcgQ2xpZW50U2NvcGVkU3RvcmFnZSh7XG4gICAgICAgICAgICBzdG9yYWdlOiB3ZWJMb2NhbFN0b3JhZ2UsXG4gICAgICAgICAgICBjbGllbnRJZDogdGhpcy5jbGllbnRJZCxcbiAgICAgICAgICAgIGVjb3N5c3RlbUlkOiB0aGlzLmVjb3N5c3RlbT8uaWQsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXV0aENvb2tpZTogYXdhaXQgbG9jYWxTdG9yYWdlLmdldEF1dGhDb29raWUoKSxcbiAgICAgICAgICAgIGRldmljZVNoYXJlU3RvcmVkOiBhd2FpdCBsb2NhbFN0b3JhZ2UuZ2V0RGV2aWNlU2hhcmUoKSxcbiAgICAgICAgICAgIHdhbGxldFVzZXJJZDogYXdhaXQgbG9jYWxTdG9yYWdlLmdldFdhbGxldFVzZXJJZCgpLFxuICAgICAgICAgICAgY2xpZW50SWQ6IHRoaXMuY2xpZW50SWQsXG4gICAgICAgICAgICBwYXJ0bmVySWQ6IHRoaXMuZWNvc3lzdGVtPy5wYXJ0bmVySWQsXG4gICAgICAgICAgICBlY29zeXN0ZW1JZDogdGhpcy5lY29zeXN0ZW0/LmlkLFxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIFRoaXMgaXMgdGhlIFVSTCBhbmQgSUQgdGFnIG9mIHRoZSBpRnJhbWUgdGhhdCB3ZSBjb21tdW5pY2F0ZSB3aXRoXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW5BcHBXYWxsZXRJZnJhbWVMaW5rKHsgY2xpZW50SWQsIGJhc2VVcmwsIHBhdGgsIGVjb3N5c3RlbSwgcXVlcnlQYXJhbXMsIH0pIHtcbiAgICBjb25zdCBpbkFwcFdhbGxldFVybCA9IG5ldyBVUkwoYCR7cGF0aH1gLCBiYXNlVXJsKTtcbiAgICBpZiAocXVlcnlQYXJhbXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBxdWVyeUtleSBvZiBPYmplY3Qua2V5cyhxdWVyeVBhcmFtcykpIHtcbiAgICAgICAgICAgIGluQXBwV2FsbGV0VXJsLnNlYXJjaFBhcmFtcy5zZXQocXVlcnlLZXksIHF1ZXJ5UGFyYW1zW3F1ZXJ5S2V5XT8udG9TdHJpbmcoKSB8fCBcIlwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbkFwcFdhbGxldFVybC5zZWFyY2hQYXJhbXMuc2V0KFwiY2xpZW50SWRcIiwgY2xpZW50SWQpO1xuICAgIGlmIChlY29zeXN0ZW0/LnBhcnRuZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluQXBwV2FsbGV0VXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJwYXJ0bmVySWRcIiwgZWNvc3lzdGVtLnBhcnRuZXJJZCk7XG4gICAgfVxuICAgIGlmIChlY29zeXN0ZW0/LmlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5BcHBXYWxsZXRVcmwuc2VhcmNoUGFyYW1zLnNldChcImVjb3N5c3RlbUlkXCIsIGVjb3N5c3RlbS5pZCk7XG4gICAgfVxuICAgIHJldHVybiBpbkFwcFdhbGxldFVybDtcbn1cbmV4cG9ydCBjb25zdCBJTl9BUFBfV0FMTEVUX0lGUkFNRV9JRCA9IFwidGhpcmR3ZWItaW4tYXBwLXdhbGxldC1pZnJhbWVcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUluQXBwV2FsbGV0SWZyYW1lQ29tbXVuaWNhdG9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/InAppWalletIframeCommunicator.js\n"));

/***/ })

}]);